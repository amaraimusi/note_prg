<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="google" content="notranslate" />
   	<meta http-equiv="X-UA-Compatible" content="IE=edge">
   	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SVGの覚書</title><link rel='shortcut icon' href='/home/images/favicon.ico' />
	<link href="/note_prg/css/bootstrap.min.css" rel="stylesheet">
	<link href="/note_prg/css/highlight/default.css" rel="stylesheet">
	<link href="/note_prg/css/common2.css" rel="stylesheet">

	<script src="/note_prg/js/jquery-1.11.1.min.js"></script>
	<script src="/note_prg/js/bootstrap.min.js"></script>
	<script src="/note_prg/js/highlight.pack.js"></script>
	<script src="/note_prg/js/livipage.js"></script>
	<script src="/note_prg/js/ImgCompactK.js"></script>

	<style>

	</style>
	<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div id="header" ><h1>SVGの覚書</h1></div>
<div class="container">


<div id="sec2-1" class="sec4" >
	<h3>SVG画像の背景に画像を指定する</h3>
	
	HTMLのimg要素にsvgファイルをセットする方法だと背景画像の表示に<strong>失敗</strong>する
	セキュリティのため、svgに埋め込められたリンクや画像パスは無効かされるためである。<br>
	これを回避するにはsvgファイルを読み込むのでなく、svgファイルの中身のソースコードを直接ＨＴＭＬに記述すると良い。<br>
	なので背景画像付きのsvgファイルをHTMLで表示させるには、JavaScriptでsvgファイルの中身のコードを抜き出し、
	コード中の背景画像のパスを書き換えて、HTMLの指定要素にコードを挿入する方法が良いだろう。
	<br>

<svg baseProfile="full" height="200" width="200" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <image height="100%" width="100%" xlink:href="img/svg_note2/sec2-1.jpg"/>
  <rect fill="lightgray" fill-opacity="0.5" height="200" stroke="black" width="200" x="0" y="0"/>
  <line stroke="black" x1="0" x2="200" y1="100" y2="100"/>
  <line stroke="black" x1="66.66" x2="66.66" y1="0" y2="200"/>
  <line stroke="black" x1="133.33" x2="133.33" y1="0" y2="200"/>
</svg>
	
	以下のコードをHTMLに直接記述すること。
	<pre><code>
&lt;svg baseProfile="full" height="200" width="200" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
  &lt;image height="100%" width="100%" xlink:href="img/svg_note2/sec2-1.jpg"/&gt;
  &lt;rect fill="lightgray" fill-opacity="0.5" height="200" stroke="black" width="200" x="0" y="0"/&gt;
  &lt;line stroke="black" x1="0" x2="200" y1="100" y2="100"/&gt;
  &lt;line stroke="black" x1="66.66" x2="66.66" y1="0" y2="200"/&gt;
  &lt;line stroke="black" x1="133.33" x2="133.33" y1="0" y2="200"/&gt;
&lt;/svg&gt;
	</code></pre>
	
	<hr>
	
	以下はsvgファイルをimg要素にセットする方法だが、見ての通り背景画像は無視される。<br>
	
	<img src="img/svg_note2/sec2-1.svg" alt="" />
	<pre><code>&lt;img src="img/svg_note2/sec2-1.svg" alt="" /&gt;</code></pre>
	<br><time>2023-11-23</time>
	
</div>


<div id="sec2-0" class="sec4" style="display:none">
	<h3>XXX</h3>
	
	<time>2023-11-23</time>
	
</div>


<div class="yohaku"></div>
<ol class="breadcrumb">
	<li><a href="/">ホーム</a></li>
	<li><a href="/note_prg">プログラミングの覚書</a></li>
	<li><a href="/note_prg/html/">HTMLの覚書</a></li>
	<li>SVGの覚書</li>
</ol>
</div><!-- content -->
<div id="footer">(C) kenji uehara 2023-11-23</div>
</body>
</html>