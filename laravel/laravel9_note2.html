<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="google" content="notranslate" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Laravel9の覚書 | ワクガンス</title>
	<link rel='shortcut icon' href='/home/images/favicon.ico' />
	
	<link href="/note_prg/css/bootstrap-4.3.1-dist/bootstrap.min.css" rel="stylesheet">
	<link href="/note_prg/css/highlight/default.css" rel="stylesheet">
	<link href="/note_prg/css/common2.css" rel="stylesheet">
	<script src="/note_prg/js/jquery3.js"></script>	<!-- jquery-3.3.1.min.js -->
	<script src="/note_prg/js/popper.js"></script><!-- ポップアップ機能およびBootstrapの補助ライブラリ -->
	<script src="/note_prg/js/bootstrap-4.3.1-dist/bootstrap.min.js"></script>
	<script src="/note_prg/js/highlight.pack.js"></script>
	<script src="/note_prg/js/livipage.js"></script>
	<script src="/note_prg/js/ImgCompactK.js"></script>

	<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div id="header" ><h1>Laravel9の覚書 | ワクガンス</h1></div>
<div class="container">


<div id="sec2-1" class="sec4">
	<h3>バリデーション nullや空値を許容する</h3>
	
	requiredの反対にnullableというnullや空値を許容するバリデーションルールが存在する。<br>
	日付型(date)のバリデーションは単独で用いると必須になるため、空を許容するならnullableも一緒に用いると良い。<br>
	<br>
	
	<pre>
    public function store(Request $request){

        $request-&gt;validate([
            'sales_amt' =&gt; 'required|numeric',
            'billing_date' =&gt; '<strong>nullable</strong>|date',
            
        ]);
        
        $sales = new Sales();
        $sales-&gt;sales_amt = $request-&gt;sales_amt;
        $sales-&gt;status = $request-&gt;status;
        $sales-&gt;billing_date = $request-&gt;billing_date ?? null;

        $sales-&gt;save();
        
        return redirect('/sales');
        
    }
	</pre>


	<br><time>2022-7-4</time>
</div>


<div id="sec2-2" class="sec4" >
	<h3>バリデーションをビュー(bladeテンプレート)に出力する</h3>

	xxx.blade.php
	<pre>
&lt;!-- バリデーションエラーの表示 --&gt;
@if ($errors-&gt;any())
	&lt;div class="alert alert-danger"&gt;
		&lt;ul&gt;
			@foreach ($errors-&gt;all() as $error)
				&lt;li&gt;{{ $error }}&lt;/li&gt;
			@endforeach
		&lt;/ul&gt;
	&lt;/div&gt;
@endif
	</pre>

	<br><time>2022-7-4</time>
</div>


<div id="sec2-0" class="sec4" style="display:none">
	<h3>xxx</h3>


	<br><time>2022-7-4</time>
</div>


<div class="yohaku"></div>
<ol class="breadcrumb">
	<li><a href="/">ホーム</a></li>
	<li><a href="/note_prg">プログラミングの覚書</a></li>
	<li><a href="/note_prg/laravel/">Laravelの覚書</a></li>
	<li>Laravel9の覚書</li>
</ol>

</div><!-- content -->
<div id="footer">(C) amaraimusi 2022-7-4</div>
</body>
</html>