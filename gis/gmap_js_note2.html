<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="google" content="notranslate" />
   	<meta http-equiv="X-UA-Compatible" content="IE=edge">
   	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Google Maps JavaScript APIの覚書 | ワクガンス</title>
	<link rel='shortcut icon' href='/home/images/favicon.ico' />
	
	<link href="/note_prg/css/bootstrap.min.css" rel="stylesheet">
	<link href="/note_prg/css/highlight/default.css" rel="stylesheet">
	<link href="/note_prg/css/common2.css" rel="stylesheet">

	<script src="/note_prg/js/jquery3.js"></script>	<!-- jquery-3.3.1.min.js -->
	<script src="/note_prg/js/bootstrap.min.js"></script>
	<script src="/note_prg/js/highlight.pack.js"></script>
	<script src="/note_prg/js/livipage.js"></script>
	<script src="/note_prg/js/ImgCompactK.js"></script>

	<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div id="header" ><h1>Google Maps JavaScript APIの覚書 | ワクガンス</h1></div>
<div class="container">



<div id="sec2-1" class="sec4">
	<h3>ズームをセットする | setZoom()</h3>
	
	setZoomメソッドを使うと地図はアニメーションしながらズーム変更される。
	<pre><code>
	map.setZoom(12) ;
	</code></pre>
	<aside>
	※ var map = new google.maps.Map( ...
	</aside>
	文字列扱いの数値を指定するとエラーになる。<br>
	<br>
	逆にズームを取得する場合
	<pre><code>
	var zoom = map.getZoom();
	</code></pre>

	<br><time>2019-4-17</time>
</div>



<div id="sec2-2" class="sec4">
	<h3>地図表示後に1回だけ呼び出されるイベント | idle</h3>
	
	<pre><code>
	// 地図表示後に1回だけ呼び出されるイベント
	google.maps.event.addListenerOnce(map, 'idle', ()=>{
		alert('OK');
	});
	</code></pre>
	<aside>
	※ var map = new google.maps.Map( ...
	</aside>

	<br><time>2019-4-17</time>
</div>



<div id="sec2-3" class="sec4">
	<h3>ズームと倍率</h3>
	
		ズームの数値が一つ上がるたびに倍率も2倍になっていくようである。<br>
		ただし地球は真球ではないので多少の誤差はある。<br>
		設定できるズームレベルは1から21まで。<br>
		<br>
		
		<a href="/sample/js/a011/gmap_js_api/demo9_zoom_and_rate.html" class="btn btn-info">検証</a><br>
		<br>

		ズーム15を基準に倍率を表にする。。
		<table class="tbl2">
			<thead><tr>
				<th>ズーム</th>
				<th>緯度範囲</th>
				<th>経度範囲</th>
				<th>緯度倍率</th>
				<th>経度倍率</th>
			</tr></thead><tbody>
		
			<tr>
				<td>4</td>
				<td>24.9761889276705</td>
				<td>56.25</td>
				<td>2035.7622412523797</td>
				<td>2048</td>
			</tr>
		
			<tr>
				<td>5</td>
				<td>12.54437131388627</td>
				<td>28.125</td>
				<td>1022.4681409567241</td>
				<td>1024</td>
			</tr>
		
			<tr>
				<td>6</td>
				<td>6.279232643109637</td>
				<td>14.0625</td>
				<td>511.8084570828972</td>
				<td>512</td>
			</tr>
		
			<tr>
				<td>7</td>
				<td>3.140497546693908</td>
				<td>7.03125</td>
				<td>255.97605554713772</td>
				<td>256</td>
			</tr>
		
			<tr>
				<td>8</td>
				<td>1.5703589372031033</td>
				<td>3.515625</td>
				<td>127.99700702253871</td>
				<td>128</td>
			</tr>
		
			<tr>
				<td>9</td>
				<td>0.7851932394161523</td>
				<td>1.7578125</td>
				<td>63.99962594449872</td>
				<td>64</td>
			</tr>
		
			<tr>
				<td>10</td>
				<td>0.3925983410702898</td>
				<td>0.87890625</td>
				<td>31.999953277249784</td>
				<td>32</td>
			</tr>
		
			<tr>
				<td>11</td>
				<td>0.19629938570574978</td>
				<td>0.439453125</td>
				<td>15.999994176776694</td>
				<td>16</td>
			</tr>
		
			<tr>
				<td>12</td>
				<td>0.09814971974919828</td>
				<td>0.2197265625</td>
				<td>7.999999280657142</td>
				<td>8</td>
			</tr>
		
			<tr>
				<td>13</td>
				<td>0.04907486323666177</td>
				<td>0.10986328125</td>
				<td>3.99999991436398</td>
				<td>4</td>
			</tr>
		
			<tr>
				<td>14</td>
				<td>0.02453743203858494</td>
				<td>0.054931640625</td>
				<td>1.9999999914361084</td>
				<td>2</td>
			</tr>
		
			<tr>
				<td>15</td>
				<td>0.012268716071826447</td>
				<td>0.0274658203125</td>
				<td>1</td>
				<td>1</td>
			</tr>
		
			<tr>
				<td>16</td>
				<td>0.006134358042476862</td>
				<td>0.01373291015625</td>
				<td>0.5000000005349898</td>
				<td>0.5</td>
			</tr>
		
			<tr>
				<td>17</td>
				<td>0.003067179022060884</td>
				<td>0.006866455078125</td>
				<td>0.2500000003345315</td>
				<td>0.25</td>
			</tr>
		
			<tr>
				<td>18</td>
				<td>0.0015335895111334708</td>
				<td>0.0034332275390625</td>
				<td>0.12500000017566346</td>
				<td>0.125</td>
			</tr>
		
			<tr>
				<td>19</td>
				<td>0.0007667947555773935</td>
				<td>0.00171661376953125</td>
				<td>0.06250000008870045</td>
				<td>0.0625</td>
			</tr>
		
			<tr>
				<td>20</td>
				<td>0.0003833973778029076</td>
				<td>0.000858306884765625</td>
				<td>0.03125000004550852</td>
				<td>0.03125</td>
			</tr>
		
			<tr>
				<td>21</td>
				<td>0.0001916986888979011</td>
				<td>0.0004291534423828125</td>
				<td>0.015625000022464686</td>
				<td>0.015625</td>
			</tr>
		</tbody></table>
	


	<br><time>2019-4-17</time>
</div>



<div id="sec2-4" class="sec4">
	<h3>中心座標を取得する | getCenter()</h3>
	
	<pre><code>
		var center = map.getCenter();
		console.log(center.lat()); // 緯度
		console.log(center.lng()); // 経度
	</code></pre>
	<aside>
	※ var map = new google.maps.Map( ...
	</aside>

	<br><time>2019-4-18</time>
</div>



<div id="sec2-5" class="sec4">
	<h3>マーカーを削除</h3>
	
	<pre><code>
	marker.setMap(null);
	</code></pre>
	<aside>markerは「new google.maps.Marker」クラスのオブジェクト</aside>

	<br><time>2019-5-8</time>
</div>



<div id="sec2-6" class="sec4">
	<h3>マップの中心を変更する</h3>
	
	<pre><code>
	map.setCenter(new google.maps.LatLng(26.690967684058386, 127.92949886409019 ));
	</code></pre>
	<aside>※ var map = new google.maps.Map(...)</aside>

	<br><time>2019-5-10</time>
</div>



<div id="sec2-0" class="sec4" style="display:none">
	<h3>xxx</h3>


	<br><time>2019-4-17</time>
</div>


<div class="yohaku"></div>
<ol class="breadcrumb">
	<li><a href="/">ホーム</a></li>
	<li><a href="/note_prg">プログラミングの覚書</a></li>
	<li><a href="/note_prg/js/">JavaScriptの覚書</a></li>
	<li>Google Maps JavaScript APIの覚書</li>
</ol>
</div><!-- content -->
<div id="footer">(C) kenji uehara 2019-4-17</div>
</body>
</html>