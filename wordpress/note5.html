<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="google" content="notranslate" />
   	<meta http-equiv="X-UA-Compatible" content="IE=edge">
   	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>WordPressの覚書 | ワクガンス</title>
	<link rel='shortcut icon' href='/home/images/favicon.ico' />
	
	<link href="/note_prg/css/bootstrap.min.css" rel="stylesheet">
	<link href="/note_prg/css/highlight/default.css" rel="stylesheet">
	<link href="/note_prg/css/common2.css" rel="stylesheet">

	<script src="/note_prg/js/jquery3.js"></script>	<!-- jquery-3.3.1.min.js -->
	<script src="/note_prg/js/bootstrap.min.js"></script>
	<script src="/note_prg/js/highlight.pack.js"></script>
	<script src="/note_prg/js/livipage.js"></script>
	<script src="/note_prg/js/ImgCompactK.js"></script>

	<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div id="header" ><h1>WordPressの覚書 | ワクガンス</h1></div>
<div class="container">


<div id="sec5-1" class="sec4">
	<h3>WordPressのER図</h3>

	一部のフィールドは省略
	<img src="img/note5/er.svg" /><br>
	
	<a href="http://wpdocs.osdn.jp/wiki/images/WP3.2.1-ERD.png" target="_blank">参考ER図</a><br>
	<br>


	<br><time>2019-10-8</time>
</div>


<div id="sec5-2" class="sec4">
	<h3>WordPressのDB設定 | wp-config.php</h3>
	
	ルートパスの直下にある「wp-config.php」がDB設定ファイルになっている。<br>
	<br>
	※wp-config.phpの内容を抜粋
	<pre>
	// ** MySQL 設定 - この情報はホスティング先から入手してください。 ** //
	/** WordPress のためのデータベース名 */
	define( 'DB_NAME', 'hello_wordpress' );
	
	/** MySQL データベースのユーザー名 */
	define( 'DB_USER', 'root' );
	
	/** MySQL データベースのパスワード */
	define( 'DB_PASSWORD', 'xxxx' );
	
	/** MySQL のホスト名 */
	define( 'DB_HOST', 'localhost' );
	
	/** データベースのテーブルを作成する際のデータベースの文字セット */
	define( 'DB_CHARSET', 'utf8mb4' );
	
	/** データベースの照合順序 (ほとんどの場合変更する必要はありません) */
	define('DB_COLLATE', '');
	</pre>
	<br>


	<br><time>2019-10-19</time>
</div>


<div id="sec5-3" class="sec4" >
	<h3>画像からサムネイルを一括で作成する | Regenerate Thumbnailsプラグイン</h3>
	
	<ol class="list_lg">
		<li>
			画像からサムネイルを一括で作成する | Regenerate Thumbnailsプラグイン
		</li>
		
		<li>
			プロジェクトホーム\wp-content\uploads\2019\10」にオリジナルサイズの画像ファイルを配置する
			<aside>
			※日付部分は投稿日。
			今回の例では１つのファイルだけであるが複数の画像ファイルを一括で処理するのが本来の使い方である。<br>
			</aside>
			<img src="img/note5/sec5-4a0.png" class="img_compact_k" />
		</li>
		
		<li>
		wp_postsに画像ファイルのデータを登録する。(DBを直接編集)<br>
		例 「haze.jpgをプロジェクトホーム\wp-content\uploads\2019\10」に配置した場合
		<table class="tbl2">
			<thead>
				<tr><th>ID</th><th>post_author</th><th>post_date</th><th>post_date_gmt</th><th>post_content</th><th>post_title</th><th>post_excerpt</th><th>post_status</th><th>comment_status</th><th>ping_status</th><th>post_password</th><th>post_name</th><th>to_ping</th><th>pinged</th><th>post_modified</th><th>post_modified_gmt</th><th>post_content_filtered</th><th>post_parent</th><th>guid</th><th>menu_order</th><th>post_type</th><th>post_mime_type</th><th>comment_count</th></tr>
			</thead>
			<tbody>
				<tr><td><strong>8297</strong></td><td>1</td><td>2019/10/21 0:00</td><td>2019/10/21 0:00</td>
				<td>テストデータの画像です。</td><td><strong>haze</strong></td><td>ハゼ</td><td>inherit</td>
				<td>open</td><td>closed</td><td></td><td>haze</td><td></td><td></td><td>2019/10/21 0:00</td><td>2019/10/21 0:00</td><td>test2</td><td>14</td><td></td><td>0</td><td>attachment</td><td>image/jpeg</td><td>0</td></tr>
			</tbody>
		</table>
		</li>
		
		<li>
			wp_postmetaにデータを登録する。(DBを直接編集)
			例<br>
			<table class="tbl2">
				<thead>
					<tr><th>meta_id</th><th>post_id</th><th>meta_key</th><th>meta_value</th></tr>
				</thead>
				<tbody>
					<tr><td>72</td><td><strong>8297</strong></td><td>_wp_attached_file</td><td>2019/10/haze.jpg</td></tr>
				</tbody>
			</table>
			
		</li>
		
		<li>
			Regenerate Thumbnailsのツール画面を開く。<br>
			<img src="img/note5/sec5-4a1.png" class="img_compact_k" />
		</li>
		
		<li>
			サムネイルの一括作成を実行する。<br>
			<img src="img/note5/sec5-4a2.png" class="img_compact_k" />
		</li>
		
		<li>
			サムネイルが作成される。<br>
			<img src="img/note5/sec5-4a3.png" class="img_compact_k" />
			WordPressダッシュボードのメディアやギャラリーにも画像が一覧表示されるようになる。
		</li>
	</ol>


	<br><time>2019-10-24</time>
</div>


<div id="sec5-0" class="sec4" style="display:none">
	<h3>xxx</h3>


	<br><time>2019-10-8</time>
</div>


<div class="yohaku"></div>
<ol class="breadcrumb">
	<li><a href="/">ホーム</a></li>
	<li><a href="/note_prg">プログラミングの覚書</a></li>
	<li><a href="/note_prg/js/">JavaScriptの覚書</a></li>
	<li>WordPressの覚書</li>
</ol>

</div><!-- content -->
<div id="footer">(C) kenji uehara 2019-10-8</div>
</body>
</html>