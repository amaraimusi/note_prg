<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="google" content="notranslate" />
   	<meta http-equiv="X-UA-Compatible" content="IE=edge">
   	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue.jsの覚書 | ワクガンス</title>
	<link rel='shortcut icon' href='/home/images/favicon.ico' />
	
	<link href="/note_prg/css/bootstrap.min.css" rel="stylesheet">
	<link href="/note_prg/css/highlight/default.css" rel="stylesheet">
	<link href="/note_prg/css/common2.css" rel="stylesheet">

	<script src="/note_prg/js/jquery3.js"></script>	<!-- jquery-3.3.1.min.js -->
	<script src="/note_prg/js/bootstrap.min.js"></script>
	<script src="/note_prg/js/highlight.pack.js"></script>
	<script src="/note_prg/js/livipage.js"></script>
	<script src="/note_prg/js/ImgCompactK.js"></script>

	<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div id="header" ><h1>Vue.jsの覚書 | ワクガンス</h1></div>
<div class="container">


<div id="sec2-1" class="sec4">
	<h3>vue.js | 複数チェックボックス</h3>
	
	<a href="/sample/js/a010/vue_mult_checkbox/vue_mult_checkbox.html" class="btn btn-info">Demo</a><br>
	<br>
	
	HTML
	<pre>
	&lt;div id="app1"&gt;
		&lt;input type="checkbox" id="aka_neko" value="1" <span class="text-primary">v-model="cats"</span>&gt;
		&lt;label for="aka_neko"&gt;赤猫&lt;/label&gt;
		&lt;input type="checkbox" id="siro_neko" value="2"<span class="text-primary"> v-model="cats"</span>&gt;
		&lt;label for="siro_neko"&gt;白猫&lt;/label&gt;
		&lt;input type="checkbox" id="mike_neko" value="3" <span class="text-primary">v-model="cats"</span>&gt;
		&lt;label for="mike_neko"&gt;三毛猫&lt;/label&gt;
		&lt;br&gt;
		&lt;span&gt;選択: {{ cats }}&lt;/span&gt;
	&lt;/div&gt;
	</pre>

	JavaScript
	<pre>
	var app; // vue.js
	jQuery(() =&gt; {
		app = new Vue({
			el: '#app1',
			data: {
				cats: [],
			},
		})
	});
	</pre>
	
	<p>checkedについて</p>
	vue.jsを適用しているcheckboxにchecked属性を記述してもチェックされない。<br>
	チェック状態にするにはdataのプロパティに値をセットする。
	<pre>
	var app; // vue.js
	jQuery(() =&gt; {
		app = new Vue({
			el: '#app1',
			data: {
				<span class="text-primary">cats: [],</span>
			},
		})
	});
	</pre>
	
	<br><time>2019-3-13</time>
</div>


<div id="sec2-2" class="sec4">
	<h3>vue.js | セレクトボックス SELECT</h3>
	
	<a href="/sample/js/a010/vue_select/vue_select.html" class="btn btn-info">Demo</a><br>
	<br>
	
	HTML
	<pre><code>
	&lt;div id="app1"&gt;
		&lt;div&gt;
			&lt;p&gt;普通のセレクトボックス&lt;/p&gt;
			「option value」の値を取得して表示
			&lt;select v-model="fish_type"&gt;
				&lt;option disabled value=""&gt;-- 魚選択 --&lt;/option&gt;
				&lt;option value="1"&gt;ガーラ&lt;/option&gt;
				&lt;option value="2"&gt;ミーバイ&lt;/option&gt;
				&lt;option value="3"&gt;アーガイ&lt;/option&gt;
			&lt;/select&gt;
			&lt;span&gt;Selected: {{ fish_type }}&lt;/span&gt;
		&lt;/div&gt;
		
		&lt;div&gt;
			&lt;p&gt;テキスト部分を取得して表示&lt;/p&gt;
			&lt;select v-model="fish_type2"&gt;
				&lt;option disabled value=""&gt;-- 魚選択2 --&lt;/option&gt;
				&lt;option&gt;ガーラ&lt;/option&gt;
				&lt;option&gt;ミーバイ&lt;/option&gt;
				&lt;option&gt;アーガイ&lt;/option&gt;
			&lt;/select&gt;
			&lt;span&gt;Selected: {{ fish_type2 }}&lt;/span&gt;
		&lt;/div&gt;
		
		&lt;div&gt;
			&lt;p&gt;動的にセレクトボックスを生成&lt;/p&gt;
			&lt;select v-model="amphibian_type"&gt;
				&lt;option v-for="option in amphibianOptions" v-bind:value="option.value"&gt;
					{{ option.text }}
				&lt;/option&gt;
			&lt;/select&gt;
			&lt;span&gt;Selected: {{ amphibian_type }}&lt;/span&gt;
		&lt;/div&gt;
		
	&lt;/div&gt;
	</code></pre><br>
	
	JavaScript
	<pre><code>
	var app; // vue.js
	jQuery(() => {
		app = new Vue({
			el: '#app1',
			data: {
				fish_type: '',
				fish_type2: '',
				amphibian_type: '2',
				amphibianOptions: [
					{ text: 'カエル', value: '1' },
					{ text: 'イモリ', value: '2' },
					{ text: 'ｻﾝｼｮｳｳｵ', value: '3' }
				]
			},
		})
	});
	</code></pre>


	<hr />
	<p>基本型</p>
	<pre><code>
	&lt;select v-model="ent.animal_type" &gt;
		&lt;option v-for="(name, value) in animalTypeList" v-bind:value="value"&gt;@{{name}}&lt;/option&gt;
	&lt;/select&gt;
	</code></pre>
	animalTypeListの構造<br>
	animalTypeList[数値] = '名前'<br>
	<br>

	<br><time>2019-3-13 | 2022-11-2</time>
</div>



<div id="sec2-2-1" class="sec1" >
	<h3>vue.js | セレクトボックス 選択肢を追加</h3>
	
	<a href="/sample/js/a010/vue_select/vue_select_add.html" class="btn btn-info">Demo</a><br>
	<br>
	
	HTML
	<pre><code>
&lt;div id="app1"&gt;
	&lt;select v-model="amphibian_value"&gt;
		&lt;option v-for="(value, i) in amphibianList" v-bind:value="i"&gt;
			{{ value }}
		&lt;/option&gt;
	&lt;/select&gt;
	&lt;span&gt;Selected: {{ amphibian_value }}&lt;/span&gt;
	&lt;input type="text" v-model="new_amphibian" /&gt;
	&lt;button type="button" v-on:click="addList()" &gt;追加&lt;/button&gt;
&lt;/div&gt;
	</code></pre><br>
	
	JavaScript
	<pre><code>
var app; // vue.js
jQuery(() => {
	
	let amphibianList = [
			'アフリカツメガエル',
			'シリケンイモリ',
			'トウキョウサンショウウオ',
			'カジカガエル',
	];
	
	app = new Vue({
		el: '#app1',
		data: {
			amphibian_value: '2',
			new_amphibian:'',
			amphibianList: amphibianList,
		},
		methods:{
			addList:()=>{
				let add_value = this.app.new_amphibian;
				this.app.amphibianList.push(add_value);
			}
		},
	})
});
	</code></pre>
	
	<time>2020-8-19</time>
</div>



<div id="sec2-3" class="sec4">
	<h3>vue.js | 動的複数チェックボックス</h3>
	
	<a href="/sample/js/a010/vue_dyn_multi_checkbox/vue_dyn_multi_checkbox.html" class="btn btn-info">Demo</a><br>
	<br>
	
	HTML
	<pre><code>
	&lt;div id="app1"&gt;
		&lt;div v-for="(ent, key) in catData" style="display:inline-block;margin-right:10px"&gt;
			&lt;input type="checkbox" id="{{ent.xid}}" value="ent.value" v-model="cats[key]"&gt;
			&lt;label v-bind:for="ent.xid"&gt;{{ent.text}}&lt;/label&gt;
		&lt;/div&gt;
		&lt;br&gt;
		&lt;span&gt;選択: {{ cats }}&lt;/span&gt;
	&lt;/div&gt;
	</code></pre><br>
	
	JavaScript
	<pre><code>
	var app; // vue.js
	jQuery(() =&gt; {
		app = new Vue({
			el: '#app1',
			data: {
				cats: [false, true, true, false],
				catData:[
					{text:'赤猫', value:1, xid:'cb_cat_aka'},
					{text:'白猫', value:2, xid:'cb_cat_siro'},
					{text:'三毛猫', value:3, xid:'cb_cat_mike'},
					{text:'茶白猫', value:4, xid:'cb_cat_chasiro'},
				],
			},
		})
	});
	</code></pre>


	<br><time>2019-3-14</time>
</div>


<div id="sec2-4" class="sec4">
	<h3>v-forとinput要素へのbind</h3>
	
	<a href="/sample/js/a010/v_for_input_bind/v_for_input_bind.html" class="btn btn-info">Demo</a><br>
	<br>
	
	HTML
	<pre><code>
	&lt;div id="app1"&gt;
		&lt;div v-for="(ent, key, index) in catData" style="margin-right:10px"&gt;
			&lt;span&gt;index = {{index}}:&lt;/span&gt;
			&lt;span&gt;key = {{key}}:&lt;/span&gt;
			&lt;input type="text" v-model="ent.cat_name"&gt;
			&lt;input type="text" v-model="ent.cat_num"&gt;
	
		&lt;/div&gt;
		&lt;br&gt;
		
		&lt;hr&gt;
		&lt;div v-for="(ent, key, index) in catData" style="margin-right:10px"&gt;
			&lt;span class="text-success"&gt;{{ent.cat_name}}&lt;/span&gt;
			&lt;input type="text" v-bind:value="ent.cat_num" /&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	</code></pre>
	
	JavaScript
	<pre><code>
	var app; // vue.js
	jQuery(() =&gt; {
		app = new Vue({
			el: '#app1',
			data: {
				catData:{
					akaneko: {cat_name:'赤猫', cat_num:1},
					sironeko: {cat_name:'白猫', cat_num:2},
					mikeneko: {cat_name:'三毛猫', cat_num:3},
					chasiro: {cat_name:'茶白猫', cat_num:4},
				},
			},
		})
	});
	</code></pre>

	<br><time>2019-3-14</time>
</div>


<div id="sec2-5" class="sec4">
	<h3>v-bindとv-modelの違い</h3>
	
	v-modelは表示、入力ともに連動する。<br>
	v-bindは表示のみの一方通行である。入力を変えても全体に反映されない。<br>
	ただv-bindは各種属性にも適用できる。例→「v-bind:class='text-primary'」<br>
	<br>
		
	<a href="/sample/js/a010/v_bind_v_model/v_bind_v_model.html" class="btn btn-info">Demo</a><br>
	<br>

	HTML
	<pre><code>
	&lt;div id="app1"&gt;
		v-model&lt;br&gt;
		&lt;input type="text" <strong>v-model="test1"</strong>&gt;&lt;br&gt;
		&lt;br&gt;
		
		v-bind:value&lt;br&gt;
		&lt;input type="text" <strong>v-bind:value="test1"</strong>&gt;&lt;br&gt;
		&lt;br&gt;
		
		{{}}&lt;br&gt;
		&lt;div&gt;{{test1}}&lt;/div&gt;
	&lt;/div&gt;
	</code></pre><br>
	
	JavaScript
	<pre><code>
	var app; // vue.js
	jQuery(() =&gt; {
		app = new Vue({
			el: '#app1',
			data: {
				test1:'ライオンタマリン',
			},
		})
	});
	</code></pre>

	<br><time>2019-3-14</time>
</div>


<div id="sec2-6" class="sec4">
	<h3>vue.js | セレクトボックスとマッピング表示</h3>
	
	<a href="/sample/js/a010/vue_select_mapping/vue_select_mapping.html" class="btn btn-info">Demo</a><br>
	<br>
	
	HTML
	<pre><code>
	&lt;div id="app1"&gt;
		&lt;p&gt;動的にセレクトボックスを生成&lt;/p&gt;
		&lt;select v-model="amphibian"&gt;
			&lt;option v-for="(amphibian_name, amphibian_id) in amphibianList" v-bind:value="amphibian_id"&gt;
				{{amphibian_name}}
			&lt;/option&gt;
		&lt;/select&gt;
		&lt;span&gt;Selected: {{ amphibianList[amphibian] }}&lt;/span&gt;
	
	&lt;/div&gt;
	</code></pre><br>
	
	JavaScript
	<pre><code>
	var app; // vue.js
	jQuery(() =&gt; {
		app = new Vue({
			el: '#app1',
			data: {
				amphibian: '2',
				amphibianList: {
					'100':'トウキョウサンショウウオ',
					'101':'シリケンイモリ',
					'102':'ホルストガエル',
					'103':'オオサンショウウオ',
					'104':'イボイモリ',
				}
			},
		})
	});
	</code></pre>


	<br><time>2019-3-14</time>
</div>


<div id="sec2-7" class="sec4">
	<h3>vue.js | v-ifの使い方</h3>
	
	<a href="" class="btn btn-info">Demo</a><br>
	<br>
	
	HTML
	<pre><code>
	&lt;div id="app1"&gt;
		&lt;div v-for="(str, key, index) in catdog"&gt;
			&lt;div v-if="str=='cat'" class="text-danger"&gt;ネコ&lt;/div&gt;
			&lt;div v-if="str=='dog'" class="text-primary"&gt;イヌ&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	</code></pre><br>
	
	JavaScript
	<pre><code>
	var app; // vue.js
	jQuery(() =&amp;gt; {
		app = new Vue({
			el: '#app1',
			data: {
				catdog:['cat', 'cat', 'dog', 'cat']
			},
		})
	});
	</code></pre>


	<br><time>2019-3-14</time>
</div>



<div id="sec2-8" class="sec4">
	<h3>vue.js | 全データループ</h3>
	
	<a href="/sample/js/a010/vue_all_data_loop/vue_all_data_loop.html" class="btn btn-info">Demo</a><br>
	<br>

	JavaScript
	<pre><code>
	var app; // vue.js
	jQuery(() =&gt; {
		app = new Vue({
			el: '#app1',
			data: {
				cat_name:'赤猫', 
				cat_num:100,
				cat_date:'2019-3-20'
			},
		})
		
		// ▼ 全データのループ
		for(var key in <strong>app._data</strong>){
			console.log('key=' + key);
			console.log(app[key]);
			jQuery('#res').append(key + ' = ' + app[key] + '&lt;br&gt;');
		}
		
	});
	</code></pre>
	
	HTML
	<pre><code>
	&lt;div id="app1"&gt;
		&lt;input type="text" v-model="cat_name"&gt;
		&lt;input type="text" v-model="cat_num"&gt;
		&lt;input type="text" v-model="cat_date"&gt;
	&lt;/div&gt;
	&lt;hr&gt;
	&lt;div id="res" class="text-success"&gt;&lt;/div&gt;
	</code></pre>

	<br><time>2019-3-20</time>
</div>



<div id="sec2-8-2" class="sec4" >
	<h3>Vueのappからバインドされていないプレーンなデータを取得する</h3>
	
	<a href="/sample/js/a015/vue_get_plain_data/vue_get_plain_data.html" class="btn btn-info">Demo</a><br>
	<br>
	
	<pre><code>

let app;

$(()=>{
	
	let formData = {
		'cat_name':'ボウシちゃん',
		'cat_nickname':'オコモさん',
	};
	
	app = new Vue({
		el: '#app1',
		data: {
			'formData':formData,
		},
	});
	
	let plainData = getPlainDataFromVue(app, 'formData');
	console.log(plainData);
	$('#res').html(JSON.stringify( plainData));
	
});

/**
* Vueのappからバインドされていないプレーンなデータを取得する
* ＠param app VueのApp
* @param key データのキー省略可
* @return {} プレーンなデータ
*/
function getPlainDataFromVue(app, key){
	let anyData = null;
	if(key==null){
		anyData = app._data;
	}else{
		anyData = app[key];
	}
	
	let plainData = {};
	for(let key2 in anyData){
		plainData[key2] = anyData[key2];
	}
	
	return plainData;
}

	</code></pre>


	<br><time>2019-3-14</time>
</div>



<div id="sec2-9" class="sec4">
	<h3>vue.jsによるメンバー登録フォーム | 新規登録フォーム, 会員登録, 利用登録, ユーザー登録</h3>
	
	<a href="/sample/js/a009/member_reg_form/member_reg_form.html" class="btn btn-info">Demo</a><br>
	<br>
	
	<input type="button" class="btn btn-info" value="HTML" onclick="jQuery('#sec2-9a1').toggle(300)" />
	<pre id="sec2-9a1" style="display:none"><code>
&lt;!DOCTYPE html&gt;
&lt;html lang="ja"&gt;
&lt;head&gt;
	&lt;meta charset="UTF-8"&gt;
	&lt;meta name="google" content="notranslate" /&gt;
   	&lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
   	&lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
	&lt;title&gt;メンバー登録フォーム | ワクガンス&lt;/title&gt;
	&lt;link rel='shortcut icon' href='/home/images/favicon.ico' /&gt;
	
	&lt;link href="/note_prg/css/bootstrap.min.css" rel="stylesheet"&gt;
	&lt;link href="/note_prg/css/common2.css" rel="stylesheet"&gt;

	&lt;script src="/note_prg/js/jquery3.js"&gt;&lt;/script&gt;	&lt;!-- jquery-3.3.1.min.js --&gt;
	&lt;script src="/note_prg/js/bootstrap.min.js"&gt;&lt;/script&gt;
	&lt;script src="jquery.validate.min.js"&gt;&lt;/script&gt;
	&lt;script src="vue.min.js"&gt;&lt;/script&gt;
	&lt;script src="member_reg_form.js"&gt;&lt;/script&gt;
	
	&lt;style&gt;
		form .inp_w{
			margin-bottom:10px;
		}
		form label{
			display:inline-block;
			width:170px;
		}
		form label.error{
			color:red;
			font-size:0.8em;
			width:auto;
		}
		form.hosoku{
			color:#636363;
			font-size:0.75em;
		}
		#step4 label{
			display:inline-block;
			width:170px;
		}
		.checkboxs_w{
			display:inline-block
		}
		.checkboxs_w label{
			width:50px
		}
	&lt;/style&gt;
	

&lt;/head&gt;
&lt;body&gt;
&lt;div id="header" &gt;&lt;h1&gt;メンバー登録フォーム | ワクガンス&lt;/h1&gt;&lt;/div&gt;
&lt;div class="container"&gt;


&lt;input type="button" value="テストデータを入力" class="btn btn-default" onclick="testDataInput()" /&gt;&lt;br&gt;
&lt;br&gt;
&lt;div id="err" style="color:red"&gt;&lt;/div&gt;

&lt;div id="app1"&gt;
&lt;div id="step1"&gt;
	
	
	&lt;form id="form_step1"&gt;
		&lt;div class="inp_w"&gt;
			&lt;label for="email"&gt;Eメール&lt;/label&gt;
			&lt;input name="email" type="text" value="" v-model="email" placeholder="example@example.com" style="width:70%"/&gt;
		&lt;/div&gt;
	
		&lt;div class="inp_w"&gt;
			&lt;label for="password" style="vertical-align:top"&gt;パスワード&lt;/label&gt;
			&lt;div style="display:inline-block"&gt;
				&lt;input type="password" name="password" v-model="password" class="password" placeholder="パスワード"/&gt;&lt;br&gt;
				&lt;input type="password" name="password_confirm" class="password"  placeholder="パスワード(もう一度)" /&gt;
			&lt;/div&gt;
			&lt;br&gt;
		&lt;/div&gt;

	&lt;/form&gt;
	
	&lt;div id="err_step1" class="text-danger" style="display:none"&gt;&lt;/div&gt;

	&lt;button onclick="nextBtnForStep1()" class="btn btn-primary"&gt;次へ&lt;/button&gt;
&lt;/div&gt;


&lt;div id="step2"&gt;

	&lt;form id="form_step2"&gt;
		&lt;div class="inp_w"&gt;
			&lt;label for="last_name"&gt;氏名&lt;/label&gt;
			&lt;input name="last_name" type="text" v-model="last_name" value="" placeholder="山田" /&gt;
			&lt;input name="first_name" type="text" v-model="first_name" value="" placeholder="太郎" /&gt;
		&lt;/div&gt;
		
		&lt;div class="inp_w"&gt;
			&lt;label for="last_name_kana"&gt;カタカナ氏名&lt;/label&gt;
			&lt;input name="last_name_kana" type="text" v-model="last_name_kana" value="" placeholder="ヤマダ" /&gt;
			&lt;input name="first_name_kana" type="text" v-model="first_name_kana" value="" placeholder="タロウ" /&gt;
		&lt;/div&gt;
		
			&lt;div class="inp_w"&gt;
			&lt;label for="tel"&gt;電話番号&lt;/label&gt;
			&lt;input name="tel" type="text" v-model="tel" value="" placeholder="090-0123-4567" /&gt;
			&lt;span class="hosoku"&gt; 国際電話番号形式の入力可 +81-90-0123-4567&lt;/span&gt;
		&lt;/div&gt;
		
		&lt;div class="inp_w"&gt;
			&lt;label for="post_code"&gt;郵便番号&lt;/label&gt;
			&lt;input name="post_code" type="text" v-model="post_code" value="" placeholder="123-4567" style="width:8em"/&gt;
		&lt;/div&gt;
		
		&lt;div class="inp_w"&gt;
			&lt;label for="address"&gt;住所&lt;/label&gt;
			&lt;input name="address" type="text" v-model="address" value="" placeholder="東京都千代田区千代田〇〇1-2-3" style="width:50%"/&gt;
		&lt;/div&gt;
		
		&lt;div class="inp_w"&gt;
			&lt;label for="gender"&gt;性別&lt;/label&gt;
			&lt;div style='display:inline-block'&gt;
				&lt;input name="gender" type="radio" value="man" checked /&gt;男姓
				&lt;input name="gender" type="radio" value="woman" /&gt;女姓
			&lt;/div&gt;
		&lt;/div&gt;
		
		&lt;div class="inp_w"&gt;
			&lt;label for="birthday"&gt;生年月日&lt;/label&gt;
			&lt;input type="date"  name="birthday" v-model="birthday"  value="1970-1-1" min="1900-1-1" max="2100-12-31"&gt;
		&lt;/div&gt;
	&lt;/form&gt;
	
	&lt;button onclick="returnBtnForStep2()" class="btn btn-default"&gt;戻る&lt;/button&gt;
	&lt;button onclick="nextBtnForStep2()" class="btn btn-primary"&gt;次へ&lt;/button&gt;
&lt;/div&gt;


&lt;div id="step3"&gt;

	&lt;form id="form_step3"&gt;
		&lt;div class="inp_w"&gt;
			&lt;label&gt;興味あるもの&lt;/label&gt;

			&lt;div class="checkboxs_w"&gt;
				 &lt;div v-for="(ent, key) in interestData" v-bind:value="ent.value" style="display:inline-block;margin-right:10px"&gt;
					&lt;input type="checkbox" id="{{ent.xid}}" value="ent.value" v-model="interests[key]"&gt;
					&lt;label v-bind:for="ent.xid"&gt;{{ent.text}}&lt;/label&gt;
				&lt;/div&gt;
			&lt;/div&gt;

		&lt;/div&gt;
		
		&lt;div class="inp_w"&gt;
			&lt;label for="plan"&gt;プラン&lt;/label&gt;
			&lt;select name="plan" v-model="plan"&gt;
				&lt;option value=""&gt; -- プランを選択 -- &lt;/option&gt;
				&lt;option v-for="(plan_text, plan_id) in planList" v-bind:value="plan_id"&gt;{{plan_text}}&lt;/option&gt;
			&lt;/select&gt;

		&lt;/div&gt;
	&lt;/form&gt;
	
	&lt;button onclick="returnBtnForStep3()" class="btn btn-default"&gt;戻る&lt;/button&gt;
	&lt;button onclick="nextBtnForStep3()" class="btn btn-success"&gt;次へ&lt;/button&gt;
&lt;/div&gt;


&lt;div id="step4"&gt;

	&lt;div&gt;
		&lt;label&gt;Eメール&lt;/label&gt;
		&lt;span&gt;{{email}}&lt;/span&gt;
	&lt;/div&gt;
	
	&lt;div&gt;
		&lt;label&gt;氏名&lt;/label&gt;
		&lt;span&gt;{{last_name}}&lt;/span&gt;&amp;nbsp;&lt;span&gt;{{first_name}}&lt;/span&gt;&lt;br&gt;
	&lt;/div&gt;
	
	&lt;div&gt;
		&lt;label&gt;氏名(カタカナ)&lt;/label&gt;
		&lt;span&gt;{{last_name_kana}}&lt;/span&gt;&amp;nbsp;&lt;span&gt;{{first_name_kana}}&lt;/span&gt;
	&lt;/div&gt;
	
	&lt;div&gt;
		&lt;label&gt;電話番号&lt;/label&gt;
		&lt;span&gt;{{tel}}&lt;/span&gt;
	&lt;/div&gt;
	
	&lt;div&gt;
		&lt;label&gt;郵便番号&lt;/label&gt;
		&lt;span&gt;{{post_code}}&lt;/span&gt;
	&lt;/div&gt;
	
	&lt;div&gt;
		&lt;label&gt;住所&lt;/label&gt;
		&lt;span&gt;{{address}}&lt;/span&gt;
	&lt;/div&gt;
	
	&lt;div&gt;
		&lt;label&gt;誕生日&lt;/label&gt;
		&lt;span&gt;{{birthday}}&lt;/span&gt;
	&lt;/div&gt;
	
	&lt;div&gt;
		&lt;label&gt;興味あるもの&lt;/label&gt;
		&lt;div v-for="(flg, i) in interests" style="display:inline-block;margin-right:5px"&gt;
			&lt;span v-if="flg"&gt;{{interestData[i].text}}&lt;/span&gt;
			
		&lt;/div&gt;
	&lt;/div&gt;
	
	&lt;div&gt;
		&lt;label&gt;プラン&lt;/label&gt;
		&lt;span&gt;{{planList[plan]}}&lt;/span&gt;
	&lt;/div&gt;
	
	&lt;div id="err_step4" class="text-danger" style="display:none"&gt;&lt;/div&gt;
	
	&lt;button onclick="returnBtnForStep4()" class="btn btn-default"&gt;戻る&lt;/button&gt;
	&lt;button onclick="reg()" class="btn btn-success"&gt;登録&lt;/button&gt;
	
	
&lt;/div&gt;


&lt;div id="step5"&gt;
	&lt;div style="width:100%;text-align:center"&gt;
		&lt;span style="color:#218716;font-size:2em;"&gt;登録完了しました。&lt;/span&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;!-- app1 --&gt;





&lt;div class="yohaku"&gt;&lt;/div&gt;

&lt;ol class="breadcrumb"&gt;
	&lt;li&gt;&lt;a href="/"&gt;ホーム&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href="/sample"&gt;サンプルソースコード&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href="/sample/js"&gt;JavaScript ｜ サンプル&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;メンバー登録フォーム&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;&lt;!-- content --&gt;
&lt;div id="footer"&gt;(C) kenji uehara 2019-3-7&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;	
	</code></pre>
	
	<br><br>
	<input type="button" class="btn btn-info" value="JavaScript" onclick="jQuery('#sec2-9a2').toggle(300)" />
	<pre id="sec2-9a2" style="display:none"><code>
/**
 * メンバー登録フォーム 
 * @date 2019-3-7 新規作成
 * @version 1.0.0
 */

var vueApp; // vue.js
var m_stepElms = {}; // ステップ要素リスト

jQuery(() =&gt; {
	
	// ▼ Vue.jsの初期設定
	vueApp = new Vue({
		el: '#app1',
		data: {
			email: '',
			password: '',
			last_name: '',
			first_name: '',
			last_name_kana: '',
			first_name_kana: '',
			tel: '',
			post_code: '',
			address: '',
			birthday: '',
			interests: [false, false, false, false, false],
			interestData:[
				{text:'釣り', value:1, xid:'interest1'},
				{text:'登山', value:2, xid:'interest2'},
				{text:'料理', value:3, xid:'interest3'},
				{text:'ゲーム', value:4, xid:'interest4'},
				{text:'その他', value:5, xid:'interest5'},
			],
			plan: '',
			planList:{
				'100': '猫観光ツアープラン',
				'101': '登山ガイド',
				'102': '遺跡ツアー',
				'104': '食べ歩きツアー',
			}
		}
	});
	
	// jquery.validate.min.jsの拡張
	_exJQueryValidator();
	
	// ▼ バリデーションの初期化
	_initValid('step1');
	_initValid('step2');
	_initValid('step3');
	
	// ステップ要素リストを取得する
	m_stepElms = _getStepElms(['#step1', '#step2', '#step3', '#step4', '#step5']);
	
	_showStep('#step1');// step1を表示
	

	
	
});


/**
 * バリデーションの初期化
 * @param string step_name ステップ名
 */
function _initValid(step_name){
	
	var rules; // バリデーションルール
	var messages; // バリデーションのエラーメッセージ（固有指定用）
	
	// ▼ ステップごとの入力ルールの定義
	switch(step_name){
	case 'step1':
		rules = {
			'email': {required: true, email: true},
			'password': {required: true,  minlength: 8, maxlength: 100, password_strength: true},
			'password_confirm': {equalTo: '[name=password]' },
		};
		
		// 入力項目ごとのエラーメッセージ定義
		messages = {
			password: {
				required: 'パスワードを入力してください',
				minlength: 'パスワードは8文字以上で入力してください',
			},
			password_confirm: {
				required: '確認のため再度入力してください',
				equalTo: '同じパスワードをもう一度入力してください。'
			}
		};
		
		break;
		
	case 'step2':
		rules = {
			'last_name': {required: true, maxlength: 50},
			'first_name': {required: true, maxlength: 50},
			'last_name_kana': {required: true, katakana: true, maxlength: 50},
			'first_name_kana': {required: true, katakana: true, maxlength: 50},
			'tel': {required: true, phone: true},
			'post_code': {postcode: true},
			'address': {maxlength: 100},
			'gender': {required: true},
		};
		
		// 入力項目ごとのエラーメッセージ定義
		messages = {
			'last_name': {
				required: "「氏」を入力してください"
			},
			'first_name': {
				required: "「名」を入力してください"
			},
		};
		break;
	case 'step3':
		rules = {
			'interests[]': {required: true},
			'plan': {required: true},
		};
		break;
	default:
		return;
	}
	
	var form_slt = '#form_' + step_name;
	
	$(form_slt).validate({
		rules: rules,
		messages: messages,

		//エラーメッセージ出力箇所を調整
		errorPlacement: function(error, element){
			if (element.is(':radio')) {
				error.appendTo(element.parent());
			}else if (element.is(':checkbox')) {
				error.appendTo(element.parent());
			}else {
				error.insertAfter(element);
			}
		}
	});
	
}


/**
 * STEP1の「次へ」ボタンを押下
 */
function nextBtnForStep1(){

	var valid_res = $('#form_step1').valid();
	
	if(!valid_res) return;

	// ▼ メールアドレス登録済みチェック 
	var errElm = jQuery('#err_step1');
	errElm.hide();
	_checkRegistered((registered)=&gt;{
		if(registered){
			errElm.html('すでに登録済みのメールアドレスです。');
			errElm.show();
		}else{
			_showStep('#step2');// step1を表示
		}
	});
	
}


/**
 * メールアドレス登録済みチェック 
 * @param function チェック後コールバック
 */
function _checkRegistered(afterCallback){

	var sendData = {
			email: vueApp.email
	};
	var send_json = JSON.stringify(sendData);//データをJSON文字列にする。
	var ajax_url = 'check_registered.php';

	// AJAX
	jQuery.ajax({
		type: "POST",
		url: ajax_url,
		data: "key1=" + send_json,
		cache: false,
		dataType: "text",
	})
	.done((res_json, type) =&gt; {
		var res;
		try{
			res =jQuery.parseJSON(res_json);//パース
			
		}catch(e){
			jQuery("#err").append(res_json);
			console.log(res_json);
			return;
		}
		
		// コールバックを実行
		afterCallback(res.registered)
		
	})
	.fail((jqXHR, statusText, errorThrown) =&gt; {
		jQuery('#err').append('アクセスエラー');
		jQuery('#err').append(jqXHR.responseText);
		alert(statusText);
	});
}


/**
 * STEP2の「次へ」ボタンを押下
 */
function nextBtnForStep2(){

	var valid_res = $('#form_step2').valid();
	
	if(valid_res){
		_showStep('#step3');// step3を表示
	}

}

/**
 * STEP2の「戻る」ボタン押下
 */
function returnBtnForStep2(){
	_showStep('#step1');// step1を表示
}

/**
 * STEP3の「次へ」ボタン押下
 */
function nextBtnForStep3(){
	var valid_res = $('#form_step3').valid();
	
	if(valid_res){
		_showStep('#step4');
	}
}


/**
 * STEP3の「戻る」ボタン押下
 */
function returnBtnForStep3(){
	_showStep('#step2');// step1を表示
}


/**
 * STEP3の「戻る」ボタン押下
 */
function returnBtnForStep4(){
	_showStep('#step3');// step1を表示
}


/**
 * 登録
 * @returns
 */
function reg(){
	
	// 登録済みチェック
	var errElm = jQuery('#err_step4');
	errElm.hide();
	_checkRegistered((registered)=&gt;{
		if(registered){
			errElm.html('すでに登録済みのメールアドレスです。');
			errElm.show();
		}else{
			_reg2();
		}
	});
}

/**
 * 登録2
 */
function _reg2(){
	
	// Ajaxによる登録
	_regByAjax(()=&gt;{
		_showStep('#step5');// step1を表示
	});
	
}


/**
 * Ajaxによる登録
 * @param function 登録後コールバック
 */
function _regByAjax(afterCallback){
	
	var sendData = {};
	
	// ▼ vue.jsで管理している全データをsendDataに詰めなおす
	for(var key in vueApp._data){
		sendData[key] = vueApp._data[key];
	}
	
	var send_json = JSON.stringify(sendData);//データをJSON文字列にする。
	var ajax_url = 'reg.php';

	// AJAX
	jQuery.ajax({
		type: "POST",
		url: ajax_url,
		data: "key1=" + send_json,
		cache: false,
		dataType: "text",
	})
	.done((res_json, type) =&gt; {
		var res;
		try{
			res =jQuery.parseJSON(res_json);//パース
			
		}catch(e){
			jQuery("#err").append(res_json);
			console.log(res_json);
			return;
		}
		
		// コールバックを実行
		afterCallback(res.registered)
		
	})
	.fail((jqXHR, statusText, errorThrown) =&gt; {
		jQuery('#err').append('アクセスエラー');
		jQuery('#err').append(jqXHR.responseText);
		alert(statusText);
	});
}


/**
 * 指定したステップ区分を表示する
 * @param xid 指定ステップ区分のID属性
 */
function _showStep(xid){

	for(var i in m_stepElms){
		var stepElm = m_stepElms[i];
		stepElm.hide();
	}
	m_stepElms[xid].show();
	
	
}


/**
 * ステップ要素リストを取得する
 * @param stepXids ステップID属性リスト
 * @returns object ステップ要素リスト
 */
function _getStepElms(stepXids){
	var stepElms = {};
	for(var i in stepXids ){
		var xid = stepXids[i];
		var elm = jQuery(xid);
		if(elm[0]){
			stepElms[xid] = elm;
		}
	}
	return stepElms;
}

/**
 * jquery.validate.min.jsの拡張
 * @returns
 */
function _exJQueryValidator(){
	// 標準エラーメッセージの変更
	$.extend($.validator.messages, {
		email: '正しいメールアドレスの形式で入力して下さい',
		required: '入力必須です',
		phone: "正しい電話番号の形式で入力してください",
	});

	// 独自ルールを追加
	jQuery.validator.addMethod("katakana", function(value, element) {
			return this.optional(element) || /^([ァ-ヶー]+)$/.test(value);
		}, "全角カタカナを入力してください"
	);
	jQuery.validator.addMethod("kana", function(value, element) {
			return this.optional(element) || /^([ァ-ヶーぁ-ん]+)$/.test(value);
		}, "全角ひらがな･カタカナを入力してください"
	);
	jQuery.validator.addMethod("hiragana", function(value, element) {
			return this.optional(element) || /^([ぁ-ん]+)$/.test(value);
		}, "全角ひらがなを入力してください"
	);
	jQuery.validator.addMethod("phone", function(value, element) {
			return this.optional(element) || /^(?:&yen;+?&yen;d+-)?&yen;d+(?:-&yen;d+){2}$|^&yen;+?&yen;d+$/.test(value);
		}, "正しい電話番号を入力してください"
	);
	jQuery.validator.addMethod("postcode", function(value, element) {
			return this.optional(element) || /^&yen;d{3}&yen;-?&yen;d{4}$/.test(value);
		}, "郵便番号を入力してください（例:123-4567）"
	);
	jQuery.validator.addMethod("password_strength", function(value, element) {
			return this.optional(element) || /^(?=.*?[a-z])(?=.*?&yen;d)[a-z&yen;d]{6,100}$/.test(value);
		}, "英数字を組み合わせたパスワードを入力してください"
	);
}


/**
 * テストデータを入力
 */
function testDataInput(){
	
	_setValueToInputByName('email', 'example.123@example.net');
	_setValueToInputByName('password', 'abcd1234');
	_setValueToInputByName('password_confirm', 'abcd1234');
	_setValueToInputByName('last_name', '山原');
	_setValueToInputByName('first_name', '九稲');
	_setValueToInputByName('last_name_kana', 'ヤンバル');
	_setValueToInputByName('first_name_kana', 'クイナ');
	_setValueToInputByName('tel', '+81-90-0123-4567');
	_setValueToInputByName('post_code', '123-4567');
	_setValueToInputByName('address', '沖縄県国頭郡奥　123-4  天然記念物マンション 999号室');
	_setValueToInputByName('birthday', '2012-12-12');
	
}



/**
 * Vue.jsとjQueryの連動を保ちつつ、値をinput要素にセットする。
 * @param string x_name name属性
 * @param mixed value 値
 */
function _setValueToInputByName(x_name, value){
	
	var slt = `input[name='${x_name}']`;
	_setValueToInputVJ(slt, value);
	
}



/**
 * Vue.jsとjQueryの連動を保ちつつ、値をinput要素にセットする。
 * @param mixed jqElm jQuery要素、もしくはセレクタ
 * @param mixed value 値
 */
function _setValueToInputVJ(jqElm, value){
	if(typeof jqElm == 'string') jqElm = jQuery(jqElm);
	
	if(jqElm[0]){
		jqElm.val(value);
		jqElm[0].dispatchEvent(new Event('input')); // vue.js側に変更をイベント発信する
	}
	
}



	</code></pre>


	<br><time>2019-3-20</time>
</div>



<div id="sec2-10" class="sec4" >
	<h3>Vue.jsの要素の表示切替</h3>
	
	HTML
	<pre>
	&lt;div id="app1"&gt;
		&lt;input type="text" v-model="test1" v-if="flg_a==1" /&gt;
	&lt;/div&gt;
	</pre><br>
	
	JavaScript
	<pre><code>
	var app1 = new Vue({
		el: '#app1',
		data: {
			test1: 'テスト',
			flg_a:1
		}
	})
	</code></pre>
	flg_aが1である場合のみテキストボックス要素は表示される。<br>
	<br>

	<br><time>2019-11-19</time>
</div>



<div id="sec2-0" class="sec4" style="display:none">
	<h3>xxx</h3>


	<br><time>2019-3-14</time>
</div>


<div class="yohaku"></div>
<ol class="breadcrumb">
	<li><a href="/">ホーム</a></li>
	<li><a href="/note_prg">プログラミングの覚書</a></li>
	<li><a href="/note_prg/js/">JavaScriptの覚書</a></li>
	<li>Vue.jsの覚書</li>
</ol>
</div><!-- content -->
<div id="footer">(C) kenji uehara 2019-3-12</div>
</body>
</html>