<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="google" content="notranslate" />
   	<meta http-equiv="X-UA-Compatible" content="IE=edge">
   	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PHP ファイルの覚書</title>
	
	<link href="/note_prg/css/bootstrap.min.css" rel="stylesheet">
	<link href="/note_prg/css/highlight/default.css" rel="stylesheet">
	<link href="/note_prg/css/common2.css" rel="stylesheet">

	<script src="/note_prg/js/jquery-1.11.1.min.js"></script>
	<script src="/note_prg/js/bootstrap.min.js"></script>
	<script src="/note_prg/js/highlight.pack.js"></script>
	<script src="/note_prg/js/livipage.js"></script>
	<script src="/note_prg/js/ImgCompactK.js"></script>


	<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div id="header" ><h1>PHP ファイルの覚書</h1></div>
<div class="container">










<div id="sec1-1" class="sec4" >
	<h3>ファイル容量（ファイルサイズ）を取得する | filesize</h3>
	
	<pre><code>
	$root = $_SERVER['DOCUMENT_ROOT']; 	// ルートパス
	
	// ファイルパスを組み立てる
	$fp = $root . 'photos\travel\uhugusimui_2017\thum\2017-02-11_115723_DSC_0105.jpg';
	$fp = mb_convert_encoding($fp, 'sjis', 'utf-8'); // 日本語ファイル名に対応
	
	$file_size=0;
	if(is_file($fp)){
		
		// ファイルサイズを取得する
		$file_size = <strong>filesize</strong>($fp);
	}
	var_dump('$file_size＝'.$file_size);// 出力→ '$file_size＝12377'
	</code></pre><br>
	
	<br><time>2017-10-13</time>
</div>







<div id="sec1-2" class="sec4" >
	<h3>指定パス内のディレクトリ名一覧を取得する</h3>
	
	<pre><code>
	/**
	 * 指定パス内のディレクトリ名一覧を取得する
	 * 
	 * @param string $dp パス
	 * @param $sep セパレータ： 「/」 or 「\」
	 * @return ディレクトリ名一覧
	 */
	private function scandirForDirOnly($dp,$sep=DIRECTORY_SEPARATOR){

		$list = scandir($dp);
		$list2 = array();
		foreach($list as $dn){
			
			if($dn == '.' || $dn == '..'){
				continue;
			}
			
			$t_path = $dp . $sep . $dn;
			if(is_dir($t_path)){
				$list2[] = $dn;
			}
		}
		
		return $list2;
	}
	</code></pre><br>
	
	<br><time>2017-10-31</time>
</div>







<div id="sec1-0" class="sec4" style="display:none">
	<h3>XXX</h3>
	
	<pre><code>
	</code></pre><br>
	
	<br><time></time>
</div>










<div class="yohaku"></div>
<ol class="breadcrumb">
	<li><a href="/">ホーム</a></li>
	<li><a href="/note_prg">プログラミングの覚書</a></li>
	<li><a href="/note_prg/php/">PHPの覚書</a></li>
	<li>PHP ファイルの覚書</li>
</ol>
</div><!-- content -->
<div id="footer">(C) kenji uehara 2017-10-12</div>
</body>
</html>