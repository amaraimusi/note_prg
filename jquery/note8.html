<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="google" content="notranslate" />
   	<meta http-equiv="X-UA-Compatible" content="IE=edge">
   	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>jQueryの覚書 | ワクガンス</title>
	<link rel='shortcut icon' href='/home/images/favicon.ico' />
	
	<link href="/note_prg/css/bootstrap.min.css" rel="stylesheet">
	<link href="/note_prg/css/highlight/default.css" rel="stylesheet">
	<link href="/note_prg/css/common2.css" rel="stylesheet">

	<script src="/note_prg/js/jquery3.js"></script>	<!-- jquery-3.3.1.min.js -->
	<script src="/note_prg/js/bootstrap.min.js"></script>
	<script src="/note_prg/js/highlight.pack.js"></script>
	<script src="/note_prg/js/livipage.js"></script>
	<script src="/note_prg/js/ImgCompactK.js"></script>

	<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div id="header" ><h1>jQueryの覚書 | ワクガンス</h1></div>
<div class="container">


<div id="sec1-1" class="sec4">
	<h3>クリックイベントの除去</h3>

	<pre><code>
	let btn = jQuery('...略');
	btn.off('click'); // クリックイベントの除去
	</code></pre>

	<br><time>2019-8-8</time>
</div>


<div id="sec1-2" class="sec4" >
	<h3>jQuery要素とイベント削除、ならびにjQuery要素の再生成と再イベント登録を検証</h3>
	
	<a href="/sample/js/a015/delete_and_regenerate/delete_and_regenerate.html" class="btn btn-info">Demo</a><br>
	<br>
	
	HTML
	<pre><code>
&lt;button type="button" onclick="regenerate()" class="btn btn-success"&gt;要素生成&lt;/button&gt;
&lt;button type="button" onclick="deleteElm()" class="btn btn-danger"&gt;要素削除&lt;/button&gt;
&lt;div id="example"&gt;&lt;/div&gt;
	</code></pre>
	
	JavaScript
	<pre><code>

var jq_test1;

function regenerate(){
	
	console.log('要素の生成');
	
	let html = `&lt;div id="test1" style="padding:20px;background-color:#d7eaf3"&gt;クリック&lt;/div&gt;`;
	$('#example').html(html);
	
	jq_test1 = $('#test1');
	
	// 一つ目のイベントを追加
	jq_test1.click((evt)=&gt;{
			var elm = $(evt.currentTarget);
			console.log('猫のエサ');
			alert('猫のエサを犬にあげてはいけないわけではない。');
		});
	
	// 二つ目のイベントを追加
	jq_test1.click((evt)=&gt;{
			var elm = $(evt.currentTarget);
			console.log('ワンワン');
			alert('ワンワン');
		});
	
	
	
}


function deleteElm(){
	console.log('要素削除');
	if(jq_test1){
		jq_test1.remove();
	}
}
	</code></pre>

	<p>結論</p>
	removeメソッドで要素を削除するとイベントも消えていると思われる。<br>
	またhtml()メソッドで要素を再生成したときも、以前の要素はイベントごと消えているようだ。<br>
	<br>
	
	

	<br><time>2022-2-8</time>
</div>


<div id="sec1-0" class="sec4" style="display:none">
	<h3>xxx</h3>


	<br><time>2019-8-8</time>
</div>


<div class="yohaku"></div>
<ol class="breadcrumb">
	<li><a href="/">ホーム</a></li>
	<li><a href="/note_prg">プログラミングの覚書</a></li>
	<li><a href="/note_prg/js/">JavaScriptの覚書</a></li>
	<li>jQueryの覚書</li>
</ol>

</div><!-- content -->
<div id="footer">(C) kenji uehara 2019-8-8</div>
</body>
</html>