<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="google" content="notranslate" />
   	<meta http-equiv="X-UA-Compatible" content="IE=edge">
   	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linuxの覚書</title>
	<link rel='shortcut icon' href='/home/images/favicon.ico' />
	
	<link href="/note_prg/css/jquery-ui.min.css" rel="stylesheet">
	<link href="/note_prg/css/bootstrap.min.css" rel="stylesheet">
	<link href="/note_prg/css/highlight/default.css" rel="stylesheet">
	<link href="/note_prg/css/common2.css" rel="stylesheet">

	<script src="/note_prg/js/jquery3.js"></script>	<!-- jquery-3.3.1.min.js -->
	<script src="/note_prg/js/jquery-ui.min.js"></script>
	<script src="/note_prg/js/bootstrap.min.js"></script>
	<script src="/note_prg/js/highlight.pack.js"></script>
	<script src="/note_prg/js/livipage.js"></script>
	<script src="/note_prg/js/ImgCompactK.js"></script>

	<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div id="header" ><h1>Linuxの覚書</h1></div>
<div class="container">




<div id="sec2-1" class="sec4">
	<h3>CentOSのバージョン確認方法</h3>

	<pre>	$ cat /etc/redhat-release </pre>
	
	<aside>CentOS7で確認</aside>

	<br><time>2018-6-2</time>
</div>




<div id="sec2-2" class="sec4">
	<h3>シェルのHello World! | shell</h3>
	
	shファイルをテキストエディタなどで作成する。<br>
	作成したshファイルのディレクトリに移動し、shコマンドでshファイルを実行する。<br>
	日本語文字化けするので shファイルは<strong class="text-danger">utf8</strong>で保存すること。<br>
	<br>
	
	shファイル(hello.sh)
	<pre>
	#!/bin/sh
	
	echo "Hello World!"
	</pre><br>
	
	shコマンドでshファイルを実行する<br>
	<pre class="console" >
	$ sh hello.sh
	Hello, World!
	</pre><br>
	<br>
	
	<p>Windows上でshファイルをダブルクリックで実行したとき、すぐにターミナルを閉じないようにする</p>
	shファイルの末尾に「cmd /k」を記述する。
	<pre>
	#!/bin/sh
	
	echo "Hello World!"
	<strong>cmd /k</strong>
	</pre><br>
	
	<p>注意</p>
	改行は「<span style="color:red">\n</span>」にすること<br>
	Unix環境でシェルを動かすことが多く、その環境の改行は「\n」であるためである。<br>
	<aside>改行による不具合については「
		<a href="/note_prg/mysql/cmd_note.html#sec1-4-2" class="livipage">リモートでバックアップする | SHELL</a>
		」を参考</aside>
	<br>
	
	
	<br><time>2018-9-3</time>
</div>




<div id="sec2-3" class="sec4" >
	<h3>ローカルのシェルファイルでsshログイン後、サーバー環境のコマンドを実行する</h3>
	
	<pre>
#!/bin/sh

echo 'SSHでログインしてサーバー上のコマンドを実行します。'
ssh -l 【ユーザー名】 【ユーザー名】.sakura.ne.jp <strong>"
	cd www;
	pwd;
	exit;
	"</strong>

echo "------------ 完了"
cmd /k
	</pre><br>

出力例
<pre class="console">
SSHでログインしてサーバー上のコマンドを実行します。
/home/【ユーザー名】 /www
------------ 完了
</pre>
	<br><time>2018-9-3</time>
</div>




<div id="sec2-4" class="sec4" >
	<h3>ローカルからサーバー上のshファイルを実行する</h3>

<pre><code>
ssh -l ユーザー名 ユーザー名.sakura.ne.jp "
	sh www/rab/hello.sh;
	"
</code></pre>
<aside>※ 公開鍵と秘密鍵は設定済みなのでssh接続のパスワードは省略している。</aside>
<br>

シェル版（ test.sh）
<pre><code>
#!/bin/sh

echo 'SSHでログインしてサーバー上のshファイルを実行します。'
ssh -l ユーザー名 ユーザー名.sakura.ne.jp "
	sh www/rab/hello.sh;
	"

echo "------------ 終わり"
cmd /k
</code></pre>

	<br><time>2018-9-5</time>
</div>




<div id="sec2-5" class="sec4" >
	<h3>シェルの対話式 | キーボード入力の受付</h3>

test.sh
<pre>
#!/bin/sh

echo "あなたの猫の名前は何ですか？"
<strong>read neko_name</strong>
echo "あなたの$neko_nameはいい猫ですね"

cmd /k
</pre><br>

出力
<pre class="console">
あなたの猫の名前は何ですか？
ニャーニャー
あなたのニャーニャーはいい猫ですね
</pre>

	<br><time>2018-9-5</time>
</div>




<div id="sec2-0" class="sec4" style="display:none">
	<h3>xxx</h3>


	<br><time></time>
</div>




<div class="yohaku"></div>
<ol class="breadcrumb">
	<li><a href="/">ホーム</a></li>
	<li><a href="/note_prg">プログラミングの覚書</a></li>
	<li><a href="/note_prg/linux/">Linuxの覚書</a></li>
</ol>

</div><!-- content -->
<div id="footer">(C) kenji uehara 2018-6-2</div>
</body>
</html>