<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="google" content="notranslate" />
   	<meta http-equiv="X-UA-Compatible" content="IE=edge">
   	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SSHの覚書</title>
	
	<link href="/note_prg/css/jquery-ui.min.css" rel="stylesheet">
	<link href="/note_prg/css/bootstrap.min.css" rel="stylesheet">
	<link href="/note_prg/css/highlight/default.css" rel="stylesheet">
	<link href="/note_prg/css/common2.css" rel="stylesheet">

	<script src="/note_prg/js/jquery-1.11.1.min.js"></script>
	<script src="/note_prg/js/jquery-ui.min.js"></script>
	<script src="/note_prg/js/bootstrap.min.js"></script>
	<script src="/note_prg/js/highlight.pack.js"></script>
	<script src="/note_prg/js/livipage.js"></script>
	<script src="/note_prg/js/ImgCompactK.js"></script>


	<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div id="header" ><h1>SSHの覚書</h1></div>
<div class="container">




<div id="sec2-1" class="sec4">
	<h3>リモートとローカルの間でファイルやディレクトリをコピーする | scpコマンドによるアップロード、またはダウンロード</h3>
	
	ターミナルは
	<a href="https://gitforwindows.org/" target="blank">Git for windows</a>に付属するGit Bash
	リモート先はさくらサーバーのスタンダードプランで検証。<br>
	<img src="img/ssh_note2/sec2-1a1.png" />
	<img src="img/ssh_note2/sec2-1a2.png" class="img_compact_k" /><br>
	<br>
	
	
	<p>リモートからローカルへファイルをコピーする(ファイルをサーバーからダウンロード)<p>
	<pre class="console">
	$ scp 【ユーザー名】@【ユーザー名】.sakura.ne.jp:www/animal/neko.txt ~/Documents/neko.txt
	Enter password: 【パスワード】
	</pre>
	
	ローカルの「~/Documents」パスが示す場所は「C:\Users\user\Documents」である。<br>
	Git for windowsのホーム（ルート）は「C:\Users\user」になっているためである。<br>
	<br>
	「$」になっている状態でscpコマンドを実行すること。
	最初にsshコマンドでさくらサーバーと接続する必要ない。<br>
	秘密キー、公開キーの設定が済んでいない場合はscpコマンドの実行後、パスワードの入力が求められる。
	パスワードはさくらサーバー（スタンダードプラン）であるならFTP接続する際のパスワードと同じである。<br>
	<br>
	
	ローカル側のパスはファイル名を省略してもよい
	<pre class="console">	$ scp 【ユーザー名】@【ユーザー名】.sakura.ne.jp:www/animal/neko.txt ~/Documents/</pre>
	<aside>neko.txt部分を除去</aside>
	<br>
	
	ローカル側パスのファイル名を変更すると、コピー先のファイル名も変更される。
	<pre class="console">	$ scp 【ユーザー名】@【ユーザー名】.sakura.ne.jp:www/animal/neko.txt ~/Documents/aka_neko.txt</pre>
	<aside>リモート先のneko.txtはコピー先であるローカルではaka_neko.txtになる</aside>
	<br>
	
	<p>ローカルからリモートへファイルをコピーする(ファイルをサーバーへアップロード)</p>
	<pre class="console">
	$ scp ~/Documents/neko.txt 【ユーザー名】@【ユーザー名】.sakura.ne.jp:www/animal/neko.txt
	Enter password: 【パスワード】
	</pre>
	単純にローカルパスとリモートパスを入れ替えるだけである。<br>
	当然ながら、こちらもパスワードの入力が求められる。<br>
	リモートパスのファイル名部分は省略してもよい。<br>
	<pre class="console">	$ scp ~/Documents/neko.txt 【ユーザー名】@【ユーザー名】.sakura.ne.jp:www/animal</pre>
	<br>
	
	<p>リモートからローカルへディレクトリをコピーする(ディレクトリをサーバーからダウンロード)</p>
	<pre class="console">
	$ scp -r 【ユーザー名】@【ユーザー名】.sakura.ne.jp:www/animal/test_dir ~/Documents/test_dir
	Enter password: 【パスワード】
	</pre>
	「-r」オプションを指定するとディレクトリをコピーする。
	もちろん階層化のファイル群も一緒にコピーする。
	上記と同様、コピー先のディレクトリ名部分は省略できる。
	<pre class="console">	$ scp -r 【ユーザー名】@【ユーザー名】.sakura.ne.jp:www/animal/test_dir ~/Documents/</pre>
	<br>
	
	<p>ローカルからリモートへディレクトリをコピーする(ディレクトリをサーバーへアップロード)</p>
	<pre class="console">
	$ scp -r ~/Documents/test_dir 【ユーザー名】@【ユーザー名】.sakura.ne.jp:www/animal/test_dir
	Enter password: 【パスワード】
	</pre>
	ローカルパスとリモートパスを入れ替えるだけ。
	もちろんコピー先のディレクトリ名部分は省略可能。<br>
	<br>
	
	<br><time>2018-5-3</time>
</div>



<div id="sec2-0" class="sec4" style="display:none">
	<h3>xxx</h3>


	<br><time></time>
</div>




<div class="yohaku"></div>
<ol class="breadcrumb">
	<li><a href="/">ホーム</a></li>
	<li><a href="/note_prg">プログラミングの覚書</a></li>
	<li><a href="/note_prg/linux/">Linuxの覚書</a></li>
	<li>SSHの覚書</li>
</ol>
</div><!-- content -->
<div id="footer">(C) kenji uehara 2018-5-3</div>
</body>
</html>