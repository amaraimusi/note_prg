<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="google" content="notranslate" />
   	<meta http-equiv="X-UA-Compatible" content="IE=edge">
   	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Gitの覚書 | ワクガンス</title>
	<link rel='shortcut icon' href='/home/images/favicon.ico' />
	
	<link href="/note_prg/css/bootstrap.min.css" rel="stylesheet">
	<link href="/note_prg/css/common2.css" rel="stylesheet">

	<script src="/note_prg/js/jquery3.js"></script>	<!-- jquery-3.3.1.min.js -->
	<script src="/note_prg/js/bootstrap.min.js"></script>
	<script src="/note_prg/js/livipage.js"></script>

</head>
<body>
<div id="header" ><h1>Gitの覚書 | ワクガンス</h1></div>
<div class="container">




<a href="#" target="brank">公式サイト</a>

<h2>目次</h2>
<ol>
	<li><a href="#useful_cmd_index">よく使うコマンド</a></li>
	<li><a href="#standard_index">基本</a></li>
	<li><a href="#public_index">一般</a></li>
	<li><a href="#bash_index">Bash コマンド</a></li>
</ol>

<br><br><hr><br>


<h2 id="#useful_cmd_index">よく使うGitのコマンド</h2>
<div id="sec1-0-1" class="sec4">
	
	Gitのコマンドはcdコマンドでプロジェクトのトップディレクトリに移動してから実行すること。<br>
	<br>
	
	<table class="table">
		<thead><tr><th>コマンド</th><th>解説</th></tr></thead>
		<tbody>
			<tr>
				<td>	
					$ git fetch origin main<br>
					$ git reset --hard origin/main
				</td>
				<td>
					強制的にリモートブランチの最新状態にローカル環境を戻す。
					<a href="gitcmd_note.html#sec1-8" class="livipage">参考</a>
				</td>
			</tr>
			
			<tr>
				<td>$ git pull</td>
				<td>
					プルを実行。チーム開発では毎日実行するコマンドになる。<br>
					pullはfetchとmergeを一度に両方行う。
					ただし、競合が発生した場合はファイルを修正後、mergeを実行しなければならない。
					<a href="git_note0.html#sec1-0-2" class="livipage">参考</a>
				</td>
			</tr>
			
			<tr>
				<td>$ git clone プロジェクトURL</td>
				<td>
					GitHubからインポート。
					<a href="git_note0.html#sec1-0-2" class="livipage">参考</a>
				</td>
			</tr>

			<tr>
				<td>$ git branch dog</td>
				<td>
					ブランチを新しく作成（ローカル側のみ）
				</td>
			</tr>
			
			<tr>
				<td>$ git branch</td>
				<td>
					ローカルリポジトリのブランチ一覧を表示する。<br>
					アクティブなブランチには「*」がつく。
					<pre class="console">
$ git branch
  gurukun
* main
  tanuki
					</pre>
				</td>
			</tr>
			<tr>
				<td>$ git branch -v</td>
				<td>
					ブランチ一覧表示。
					ハッシュ値とHEADコミットのメッセージも表示される。
					<pre class="console">
$ git branch -v
  gurukun c3dce2a ファーストコミット
* main    abfa21e 海へ行きたい
  tanuki  c3dce2a ファーストコミット
					</pre>
				</td>
			</tr>
			<tr>
				<td>$ git branch -r</td>
				<td>
					リモートリポジトリのブランチ一覧を表示する。
<pre class="console">
$ git branch -r
  origin/HEAD -> origin/main
  origin/main
</pre>
				
				</td>
			</tr>
			<tr>
				<td>$ git branch -a -v</td>
				<td>
				ローカルリポジトリとリモートリポジトリの両方からブランチ名を取得する。
<pre class="console">
$ git branch -a -v
  gurukun             c3dce2a ファーストコミット
* main                abfa21e 海へ行きたい
  tanuki              c3dce2a ファーストコミット
  remotes/origin/HEAD -> origin/main
  remotes/origin/main abfa21e 海へ行きたい
</pre>
				</td>
			</tr>
			
			<tr>
				<td>$ git branch -vv</td>
				<td>
				ローカルブランチとリモートブランチの紐づけを確認する。
				[]内がリモートのブランチを表している。
<pre class="console">
$ git branch -vv
  main         abfa21e [origin/main] 海へ行きたい
* okinawa_fish c60f3e3 山へ行きたい
  tanuki       c3dce2a ファーストコミット
</pre>
					[]が存在しない個所はリモートのブランチと紐づいていない状態。<br>
					<a href="git_note0.html#sec1-0-3" class="livipage">参考：ローカルブランチとリモートブランチを紐づける</a><br>
				</td>
			</tr>
			
			<tr>
				<td>$ git checkout -b ローカルブランチ名 origin/リモートブランチ名</td>
				<td>
					<pre class="console">$ git checkout -b neko origin/neko</pre>
					リモートブランチのチェックアウト。
					プルリクエストによるチーム開発ではお世話になるコマンドになるだろう。<br>
					同じ名前のローカルブランチが存在しない状態で上記コマンドを実行する。
					また、ローカルブランチ名とリモートブランチは同じブランチ名にする必要がある。<br>
					<br>
				</td>
			</tr>
			
			<tr>
				<td>$ git checkout ブランチ名</td>
				<td>
				アクティブなブランチを変更する。（ローカルリポジトリ内のブランチ）
				プロジェクト内のファイル群もそのブランチの修正に一斉に切り替わる。
<pre class="console">
$ git checkout gurukun
Switched to branch 'gurukun'

$ git branch
* gurukun
  main
  tanuki
</pre>
				</td>
			</tr>
			
			<tr>
				<td>$ git branch -m 新しいブランチ名</td>
				<td>
				ブランチ名を変更する。
<pre class="console">
$ git branch
* gurukun
  main
  tanuki

<strong>$ git branch -m okinawa_fish</strong>

$ git branch
  main
* okinawa_fish
  tanuki


</pre>
				</td>
			</tr>
			
			<tr>
				<td>git branch -D ローカルブランチ名</td>
				<td>
					ローカルのブランチを削除
					<pre class="console">git branch -D neko</pre>
				</td>
			</tr>
			
			<tr>
				<td>$ git ls-remote</td>
				<td>
					リモート側のブランチ情報を表示する（GitHub側など）
<pre class="console">
$ git ls-remote
From git@github.com:amaraimusi/eccube4_demo.git
abfa21e058bfb760db100a39a260480c56ceabf0        HEAD
c3dce2a276cc756e0b94e20a08d0a6e0be2234c2        refs/heads/gurukun
abfa21e058bfb760db100a39a260480c56ceabf0        refs/heads/main

</pre>
				</td>
			</tr>
			
			<tr>
				<td>$ git remote -v</td>
				<td>
				リモート側のURL情報を表示
<pre class="console">
$ git remote -v
origin  git@github.com:amaraimusi/eccube4_demo.git (fetch)
origin  git@github.com:amaraimusi/eccube4_demo.git (push)
</pre>
				</td>
			</tr>
			

			
			<tr>
				<td>$ git add -A</td>
				<td>
					インデックス領域（ステージングエリア領域）に差分ファイルを移動するコマンド。<br>
					「$ git add -A」コマンドの後でコミットコマンドを実行する必要がある。<br>
						<a href="gitcmd_note.html#sec1-2" class="livipage">参考:コマンドでコミット→プッシュ</a><br>
					<aside>
						※Gitでは差分ファイルをコミットする前にインデックス領域に差分ファイルを配置する処理が必要である。<br>
						当然ながらインデックス領域はリモート側でなくローカルリポジトリ側に存在する。
					</aside>
				</td>
			</tr>
			
			<tr>
				<td>$ git status</td>
				<td>
				コミット予定の差分ファイルを確認<br>
				インデックス領域内のファイル一覧表示か？<br>
<aside>README.mdファイルのみ修正した状況</aside>
<pre class="console">
$ git status
On branch main
Your branch is up to date with 'origin/main'.

Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

        modified:   README.md
</pre>
				</td>
			</tr>
			
			<tr>
				<td>$ git commit -m '任意メッセージ'</td>
				<td>
					コミットを実行する。
					<a href="gitcmd_note.html#sec1-2" class="livipage">参考:コマンドでコミット→プッシュ</a><br>
<pre class="console">
$ git commit -m '海へ行きたい'
[main abfa21e] 海へ行きたい
 1 file changed, 2 insertions(+)
</pre>
				</td>
			</tr>
			
			<tr>
				<td>$ git push リモート側のブランチ名(省略可)</td>
				<td>
				リポートリポジトリ側にプッシュ。
				<a href="gitcmd_note.html#sec1-2" class="livipage">参考:コマンドでコミット→プッシュ</a><br>
				<aside>
					当然ながらローカルのコミット後に実行すること。<br>
					リモート側のブランチ名は「$ git branch -a」で確認できる。
				</aside>
<pre class="console">
$ git branch -a
  gurukun
* main
  tanuki
  remotes/origin/HEAD -> <strong>origin/main</strong>
  remotes/origin/main


<strong>$ git push origin main</strong>
Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 4 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 301 bytes | 150.00 KiB/s, done.
Total 3 (delta 2), reused 0 (delta 0)

</pre>
				</td>
			</tr>
			
			<tr>
				<td>$git push -f</td>
				<td>
					チーム開発では混乱を招くので絶対に使ってはいけない。
					コミット履歴を強制的に上書きしてしまう。
					あくまで個人で開発しているときのみに使用を限定すること。
					<pre class="console">$ git push -f origin main</pre>
				</td>
			</tr>
			
			<tr>
				<td>git remote add ブランチ リモートURL</td>
				<td>
				ブランチにリモートを紐づける。
<pre class="console">
git remote add master git@github.com:amaraimusi/note_prg.git
</pre>
				</td>
			</tr>

			<tr>
				<td>git remote rm リモートのブランチ</td>
				<td>
リモートのブランチを外す
<pre class="console">
git remote rm origin
</pre>
				</td>
			</tr>

			<tr style="display:none">
				<td></td>
				<td>
<pre class="console">
</pre>
				</td>
			</tr>
		</tbody>
	</table>



	<br><time>2020-11-18 | 2020-12-15</time>
</div>


<br><br><hr><br>


<h2 id="standard_index">基本</h2>
<ol>
	<li><a href="github_note.html#s1">GitHubとは</a></li>
	<li><a href="github_note.html#s2">Gitとは</a></li>
	<li><a href="github_note.html#s3">Gitの基本</a></li>
	<li><a href="github_note.html#s4">GitHubへユーザー登録する</a></li>
	<li><a href="github_note.html#s5">新しくリポジトリを作成する</a></li>
	<li><a href="github_note.html#s6">Eclipseと連携</a></li>
	<li><a href="github_note.html#s7">１つのプロジェクトにGitHubとBitbucketの両方を連携させる</a></li>
	<li><a href="github_note.html#s8">コミット＆プッシュでGitHubサーバーへ反映</a></li>
	<li><a href="github_note.html#s9">別ユーザーを追加</a></li>
	<li><a href="github_note10.html#s10">Reset | リセット</a></li>
	<li><a href="github_note10.html#s11">Resetで１つ前のコミットに戻す</a></li>
	<li><a href="github_note10.html#s12">Revert | プッシュの取り消し</a></li>
	<li><a href="github_note10.html#s13">競合の修正方法</a></li>
	<li><a href="github_note10.html#s14">SSHを設定する</a></li>
	<li><a href="github_note10.html#s15">ファイルまたはフォルダをGit管理外にする | Ignore</a></li>
	<li><a href="bitbucket_note.html" >Gitとbitbucketの覚書</a></li>
</ol>

<br><hr><br>


<h2 id="public_index">一般</h2>
<ol class="list_sm">
	<li><a href="github_note.html#s100" >バージョン管理システム</a></li>
	<li><a href="github_note.html#s101" >リポジトリとは</a></li>
	<li><a href="github_note.html#s102" >リモートリポジトリとは</a></li>
	<li><a href="github_note.html#s103" >ローカルリポジトリとは</a></li>
	<li><a href="github_note.html#s103-2" >リモートリポジトリとローカルリポジトリの関係</a></li>
	<li><a href="github_note.html#s104" >Eclipse側でリモートリポジトリの連携を解除</a></li>
	<li><a href="github_note.html#s110" >ブランチとは</a></li>
	<li><a href="github_note.html#s111" >masterブランチとは</a></li>
	<li><a href="github_note.html#s112" >GitHubでブランチをブランチを切る（ブランチ作成）</a></li>
	<li><a href="github_note.html#s113" >GitHubでブランチを切り替える</a></li>
	<li><a href="github_note.html#s113-2" >Eclipse側にもブランチを作成する</a></li>
	<li><a href="github_note.html#s114" >GitHubでブランチを統合する</a></li>
	<li><a href="github_note10.html#s16" >Eclipse側で不要になったブランチをローカルリポジトリから削除する</a></li>
	<li><a href="github_note.html#s120" >Gitのコミット</a></li>
	<li><a href="github_note.html#s121" >プルとは | pull</a></li>
	<li><a href="github_note.html#s122" >フェッチとは | feche</a></li>
	<li><a href="github_note.html#s123" >マージとは | merge</a></li>
	<li><a href="github_note.html#s126" >プッシュとは | push</a></li>
	<li><a href="github_note.html#s124" >競合発生のタイミング</a></li>
	<li><a href="github_note10.html#s17" >non-fast-forward | ブランチでコミットに失敗したら・・・</a></li>
	<li><a href="github_note.html#s127" >インデックスへ追加 | add</a></li>
	<li><a href="github_note.html#s128" >Eclipseで add 操作</a></li>
	<li><a href="github_note.html#s129" >インデックスの省略</a></li>
	<li><a href="github_note.html#s130" >インデックスへ add する利点</a></li>
	<li><a href="github_note.html#s131" >間違えてインデックスに追加してしまったら</a></li>
	<li><a href="github_note.html#s132" >ワークツリーとは</a></li>
	<li><a href="github_note.html#s133" >HEADとは</a></li>
	<li><a href="github_note.html#s134" >ORIG_HEADとは</a></li>
	<li><a href="github_note.html#s135" >FETCH_HEADとは</a></li>
	<li><a href="github_note.html#s136" >リモートリポジトリのコミット一覧を見る</a></li>
	<li><a href="github_note.html#s137" >リベースとは | rebase</a></li>
	<li><a href="github_note2.html#sec2-1" >publicからprivateに変更する設定手順</a></li>
	<li><a href="github_note2.html#sec2-2" >ローカルリポジトリのコミットを取り消す方法</a></li>
	<li><a href="github_note2.html#sec2-3" >プロジェクトのコピーとEclipseのGit | .project</a></li>
	<li><a href="github_note2.html#sec2-4" >個人アクセストークンの発行 | Personal access tokens</a></li>
	<li><a href="github_note2.html#sec2-5" >Git Hub | PR | プルリクエストのレビュー必須化について</a></li>
	<li><a href="github_note2.html#sec2-6" >SSH Keyの作成とGitHubへ登録 | 公開鍵と秘密鍵</a></li>
	<li><a href="github_note2.html#sec2-7" >Gitの改行コードを勝手に変換させない | core.autocrlf=false</a></li>
	<li><a href="github_note2.html#sec2-8" >ローカル環境専用のファイル管理対象外 | .git/info/exclude</a></li>
	<li><a href="github_note2.html#sec2-9" >チーム開発におけるプルリクエストの手順</a></li>
	<li><a href="github_note.html#s999" >参考リンク</a></li>
	
</ol>

<br><hr><br>


<h2 id="bash_index">Bash コマンド</h2>
<ol class="list_sm">
	<li><a href="git_note0.html#sec1-0-2">GitHubからインポート（クローン） | clone</a></li>
	<li><a href="git_note0.html#sec1-0-3">ローカルブランチとリモートブランチを紐づける</a></li>
	<li><a href="git_note0.html#sec1-0-4">コンフリクト（競合）の修正 | プルしたらコンフリクトが発生した</a></li>
	<li><a href="gitcmd_note.html#sec1-6">コンフリクト（競合）の修正</a></li>
	<li><a href="git_note0.html#sec1-0-5">2段階認証設定したらプッシュができなくなった</a></li>
	
	<li><a href="gitcmd_note.html#sec1-1">ここまでを覚書に記述する →ローカルのみのgit環境を作成、およびEclipseと連携</a></li>
	<li><a href="gitcmd_note.html#sec1-2">コマンドでコミット→プッシュ</a></li>
	<li><a href="gitcmd_note.html#sec1-3">プロジェクトに紐づいているリモートリポジトリの情報を確認する。</a></li>
	<li><a href="gitcmd_note.html#sec1-4">リモートリポジトリからプル（履歴が違うと怒られる場合）</a></li>
	<li><a href="gitcmd_note.html#sec1-5">メールアドレスが登録されていない | fatal: unable to auto-detect email address</a></li>
	<li><a href="gitcmd_note.html#sec1-7">GitHubからコマンドでCakePHP2をインストールする</a></li>
	<li><a href="gitcmd_note.html#sec1-8">強制的にリモートブランチの最新状態にローカル環境を戻す</a></li>
</ol>







<div class="yohaku"></div>
<ol class="breadcrumb">
	<li><a href="/">ホーム</a></li>
	<li><a href="/note_prg">プログラミングの覚書</a></li>
	<li><a href="/note_prg/js/">JavaScriptの覚書</a></li>
	<li>Gitの覚書</li>
</ol>

</div><!-- content -->
<div id="footer">(C) kenji uehara 2016-8-25 | 2019-2-6</div>
</body>
</html>