<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="google" content="notranslate" />
   	<meta http-equiv="X-UA-Compatible" content="IE=edge">
   	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Pythonの覚書 | ワクガンス</title>
	<link rel='shortcut icon' href='/home/images/favicon.ico' />
	
	<link href="/note_prg/css/bootstrap.min.css" rel="stylesheet">
	<link href="/note_prg/css/highlight/default.css" rel="stylesheet">
	<link href="/note_prg/css/common2.css" rel="stylesheet">
	<script src="/note_prg/js/jquery.min.js"></script>
	<script src="/note_prg/js/bootstrap.min.js"></script>
	<script src="/note_prg/js/highlight.pack.js"></script>
	<script src="/note_prg/js/livipage.js"></script>
	<script src="/note_prg/js/ImgCompactK.js"></script>

	<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div id="header" ><h1>Pythonの覚書 | ワクガンス</h1></div>
<div class="container">


<div id="sec3-1" class="sec4">
	<h3>WinPythonのコンソール | WinPythonにパッケージをインストール</h3>
	WinPython Command Prompt.exeがWinPythonのコンソールになっている。<br>
	このコンソールから各種パッケージをpipコマンドでインストールできる。<br>
	<br>
	
	（例）WinPython Command Prompt.exeの場所<br>
	<pre><code>C:\Users\user\python3_8\WPy64-3850\WinPython Command Prompt.exe</code></pre>
	<br>
	
	<img src="img/note3/sec3-1.png" class="img_compact_k" /><br>
	<br>
	
	<br><time>2021-9-1</time>
</div>


<div id="sec3-2" class="sec4" >
	<h3>WinPythonにOpenCVをインストール</h3>
	
	<ol class="list_lg">
		<li>
			WinPythonに含まれるツール「WinPython Command Prompt.exe」を起動してコンソールを起動する。
		</li>
		<li>
			OpenCVをpipコマンドでインストール
			<pre class="console">pip install opencv-python</pre>
		</li>
		<li>
			以上でインストール完了。
		</li>
		<li>
			インストールされているか確認<br>
			「python」コマンドを実行してPython実行モードにし、「import cv2」を実行。<br>
			エラーが表示されなければOK(何も出なければOK)。<br>
			<img src="img/note3/sec3-2.png" alt="" />
		</li>
		
	</ol>

	<br><time>2021-9-1</time>
</div>


<div id="sec3-3" class="sec4" >
	<h3>ffmegのインストール</h3>
	
	FFmpegは動画と音声を記録・変換・再生するためのフリーソフトウェアとのこと。
	GUIを持たず、コマンドラインから操作する。
	つまりプログラムに組み込んで使う。<br>
	<br>
	
	<ol class="list_lg">
		<li>
			2021年9月時点のダウンロード元。<br>
			<a href="https://ffmpeg.org/">https://ffmpeg.org/</a>からファイル群をダウンロードできる。<br>
			ffmpeg-N-103601-gb35653d4c4-win64-gpl-shared.zipをダウンロードする。<br>
			<img src="img/note3/sec3-3a1.png" class="img_compact_k" />
			<img src="img/note3/sec3-3a2.png" class="img_compact_k" />
		</li>
		
		<li>
			「ffmpeg-N-103601-gb35653d4c4-win64-gpl-shared.zip」を適当な解凍すると以下のファイル群を入手できる。<br>
			<br>
			ファイル群
			<pre>
avcodec-59.dll
avdevice-59.dll
avfilter-8.dll
avformat-59.dll
avutil-57.dll
ffmpeg.exe
ffplay.exe
ffprobe.exe
postproc-56.dll
swresample-4.dll
swscale-6.dll
			</pre>
		</li>
		
		<li>
			これらのファイル群をpyファイルの存在するディレクトリに丸ごと放り込む。<br>
			<aside>
				環境変数に設定する方法があるが、ファイルグ群を丸ごとプロジェクトに組み込む方法がいいかもしれない。<br>
			</aside>
			
			<pre>
avcodec-59.dll
avdevice-59.dll
avfilter-8.dll
avformat-59.dll
avutil-57.dll
ffmpeg.exe
ffplay.exe
ffprobe.exe
postproc-56.dll
<strong>sample.py</strong>
swresample-4.dll
swscale-6.dll
			</pre>
		</li>
		
		<li>
			WinPythonのコマンドラインツール「WinPython Command Prompt.exe」を開き、下記コマンドを実行し、ffmpegをインストール
			<pre class="console">pip install ffmpeg</pre>
			
			<p>例</p>
			<pre class="console">
C:\Users\user\WinPython\WPy64-3950\scripts>pip install ffmpeg
Collecting ffmpeg
  Downloading ffmpeg-1.4.tar.gz (5.1 kB)
Building wheels for collected packages: ffmpeg
  Building wheel for ffmpeg (setup.py) ... done
  Created wheel for ffmpeg: filename=ffmpeg-1.4-py3-none-any.whl size=6084 sha256=d1cc1d2b21681f13264aeca8d45c5680bf94ee42783affac7a7de2bd7bd8d7dd
  Stored in directory: c:\users\user\appdata\local\pip\cache\wheels\1d\57\24\4eff6a03a9ea0e647568e8a5a0546cdf957e3cf005372c0245
Successfully built ffmpeg
Installing collected packages: ffmpeg
Successfully installed ffmpeg-1.4
			</pre>
		</li>
		<li>
			pyファイル上でpydubなどffmpegを利用したパッケージのインストールし、それらが動作すれば成功。
			
		</li>
	</ol>


	<br><time>2021-9-13</time>
</div>


<div id="sec3-4" class="sec4" >
	<h3>pipのアップデート</h3>

	<pre class="console">pip install --upgrade pip --user</pre>

	<br><time>2021-9-15</time>
</div>


<div id="sec3-5" class="sec4" >
	<h3>split 文字列の分割</h3>
	
	<pre><code>
print ('split 文字列分割のテスト')

str1 = 'neko inu   yagi\nSika\tTanuki';
list = str1.split()

print(list)

str2 = '猫 , 犬,ヤギ,シカ,    タヌキ   X';
list = str2.split(',')

print(list)

	</code></pre>
	出力
	<pre class="console">
split 文字列分割のテスト
['neko', 'inu', 'yagi', 'Sika', 'Tanuki']
['猫 ', ' 犬', 'ヤギ', 'シカ', '    タヌキ   X']
	</pre>
	
	<a href="https://github.com/amaraimusi/python_sample/blob/master/a001/split.py" target="_blank">GitHub</a><br>
	<br>


	<br><time>2021-11-4</time>
</div>


<div id="sec3-6" class="sec4" >
	<h3>テキストファイルを読み込む</h3>

	<pre><code>
print ('テキストファイルを読み込む')

f = open('./sample/sample1.txt', 'r', encoding='UTF-8')

data = f.read()
print(data)

f.close()
	</code></pre>
	
	出力
	<pre class="console">
テキストファイルを読み込む
Hello World!
猫のエサ
うなぎのエサ
カメのエサ
	</pre>
	
	<a href="https://github.com/amaraimusi/python_sample/blob/master/a001/textfile_open.py" target="_blank">GitHub</a><br>
	<br>

	<br><time>2021-11-4</time>
</div>


<div id="sec3-7" class="sec4" >
	<h3>文字存在チェック | 指定文字が含まれるか</h3>

	<pre><code>
print ('Pythonの覚書：文字存在チェック | 指定文字が含まれるか')

res = 'p' in 'python' 
print(res)

res = '大猫' in '臆病な大猫に目を合わせてはいけません' 
print(res)

res = '犬' in '臆病な大猫に目を合わせてはいけません' 
print(res)
	</code></pre>
	
	出力
	<pre class="console">
Pythonの覚書：文字存在チェック | 指定文字が含まれるか
True
True
False

	</pre>
	
	<a href="https://github.com/amaraimusi/python_sample/blob/master/a001/in_string.py" target="_blank">GitHub</a><br>
	<br>

	<br><time>2021-9-1</time>
</div>


<div id="sec3-0" class="sec4" style="display:none">
	<h3>xxx</h3>


	<br><time>2021-9-1</time>
</div>


<div class="yohaku"></div>
<ol class="breadcrumb">
	<li><a href="/">ホーム</a></li>
	<li><a href="/note_prg">プログラミングの覚書</a></li>
	<li><a href="/note_prg/python/">Pythonの覚書</a></li>
</ol>
</div><!-- content -->
<div id="footer">(C) kenji uehara 2021-9-1</div>
</body>
</html>